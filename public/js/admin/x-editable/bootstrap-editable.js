(function(b){var c=function(a,d){this.options=b.extend({},b.fn.editableform.defaults,d);this.$div=b(a);this.options.scope||(this.options.scope=this)};c.prototype={constructor:c,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value)},initTemplate:function(){this.$form=b(b.fn.editableform.template)},initButtons:function(){var a=this.$form.find(".editable-buttons");a.append(b.fn.editableform.buttons);"bottom"===this.options.showbuttons&&a.addClass("editable-buttons-bottom")},
render:function(){this.$loading=b(b.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.input.prerender();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);b.when(this.input.render()).then(b.proxy(function(){this.options.showbuttons||this.input.autosubmit();
this.$form.find(".editable-cancel").click(b.proxy(this.cancel,this));this.input.error?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(this.value),this.$form.submit(b.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();
this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,b;this.$form?(a=this.$form.outerWidth(),b=this.$form.outerHeight(),a&&this.$loading.width(a),b&&this.$loading.height(b),this.$form.hide()):(a=this.$loading.parent().width())&&this.$loading.width(a);this.$loading.show()},showForm:function(a){this.$loading.hide();this.$form.show();!1!==a&&this.input.activate();this.$div.triggerHandler("show")},error:function(a){var d=
this.$form.find(".control-group"),c=this.$form.find(".editable-error-block");if(!1===a)d.removeClass(b.fn.editableform.errorGroupClass),c.removeClass(b.fn.editableform.errorBlockClass).empty().hide();else{if(a){a=a.split("\n");for(var f=0;f<a.length;f++)a[f]=b("<div>").text(a[f]).html();a=a.join("<br>")}d.addClass(b.fn.editableform.errorGroupClass);c.addClass(b.fn.editableform.errorBlockClass).html(a).show()}},submit:function(a){a.stopPropagation();a.preventDefault();var d=this.input.input2value();
if(a=this.validate(d))this.error(a),this.showForm();else if(this.options.savenochange||this.input.value2str(d)!=this.input.value2str(this.value)){var c=this.input.value2submit(d);this.isSaving=!0;b.when(this.save(c)).done(b.proxy(function(a){this.isSaving=!1;var b="function"===typeof this.options.success?this.options.success.call(this.options.scope,a,d):null;!1===b?(this.error(!1),this.showForm(!1)):"string"===typeof b?(this.error(b),this.showForm()):(b&&"object"===typeof b&&b.hasOwnProperty("newValue")&&
(d=b.newValue),this.error(!1),this.value=d,this.$div.triggerHandler("save",{newValue:d,submitValue:c,response:a}))},this)).fail(b.proxy(function(a){this.isSaving=!1;a="function"===typeof this.options.error?this.options.error.call(this.options.scope,a,d):"string"===typeof a?a:a.responseText||a.statusText||"Unknown error!";this.error(a);this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(a){this.options.pk=b.fn.editableutils.tryParseJson(this.options.pk,!0);var d="function"===
typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if("function"===typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==d&&void 0!==d))return this.showLoading(),a={name:this.options.name||"",value:a,id:d},"function"===typeof this.options.params?a=this.options.params.call(this.options.scope,a):(this.options.params=b.fn.editableutils.tryParseJson(this.options.params,!0),b.extend(a,this.options.params)),"function"===
typeof this.options.url?this.options.url.call(this.options.scope,a):b.ajax(b.extend({url:this.options.url,data:a,type:"POST"},this.options.ajaxOptions))},validate:function(a){void 0===a&&(a=this.value);if("function"===typeof this.options.validate)return this.options.validate.call(this.options.scope,a)},option:function(a,b){a in this.options&&(this.options[a]=b);"value"===a&&this.setValue(b)},setValue:function(a,b){this.value=b?this.input.str2value(a):a;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};
b.fn.editableform=function(a){var d=arguments;return this.each(function(){var e=b(this),f=e.data("editableform"),g="object"===typeof a&&a;f||e.data("editableform",f=new c(this,g));"string"===typeof a&&f[a].apply(f,Array.prototype.slice.call(d,1))})};b.fn.editableform.Constructor=c;b.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};b.fn.editableform.template=
'<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';b.fn.editableform.loading='<div class="editableform-loading"></div>';b.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';b.fn.editableform.errorGroupClass=null;b.fn.editableform.errorBlockClass="editable-error"})(window.jQuery);
(function(b){b.fn.editableutils={inherit:function(b,a){var d=function(){};d.prototype=a.prototype;b.prototype=new d;b.prototype.constructor=b;b.superclass=a.prototype},setCursorPosition:function(b,a){if(b.setSelectionRange)b.setSelectionRange(a,a);else if(b.createTextRange){var d=b.createTextRange();d.collapse(!0);d.moveEnd("character",a);d.moveStart("character",a);d.select()}},tryParseJson:function(b,a){if("string"===typeof b&&b.length&&b.match(/^[\{\[].*[\}\]]$/))if(a)try{b=(new Function("return "+
b))()}catch(d){}finally{}else b=(new Function("return "+b))();return b},sliceObj:function(c,a,d){var e,f,g={};if(!b.isArray(a)||!a.length)return g;for(var h=0;h<a.length;h++)e=a[h],c.hasOwnProperty(e)&&(g[e]=c[e]),!0!==d&&(f=e.toLowerCase(),c.hasOwnProperty(f)&&(g[e]=c[f]));return g},getConfigData:function(c){var a={};b.each(c.data(),function(b,c){if("object"!==typeof c||c&&"object"===typeof c&&(c.constructor===Object||c.constructor===Array))a[b]=c});return a},objectKeys:function(b){if(Object.keys)return Object.keys(b);
if(b!==Object(b))throw new TypeError("Object.keys called on a non-object");var a=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&a.push(d);return a},escape:function(c){return b("<div>").text(c).html()},itemsByValue:function(c,a,d){if(!a||null===c)return[];d=d||"value";var e=b.isArray(c),f=[],g=this;b.each(a,function(a,k){k.children?f=f.concat(g.itemsByValue(c,k.children,d)):e?b.grep(c,function(b){return b==(k&&"object"===typeof k?k[d]:k)}).length&&f.push(k):c==(k&&"object"===typeof k?k[d]:
k)&&f.push(k)});return f},createInput:function(c){var a;a=c.type;"date"===a&&("inline"===c.mode?b.fn.editabletypes.datefield?a="datefield":b.fn.editabletypes.dateuifield&&(a="dateuifield"):b.fn.editabletypes.date?a="date":b.fn.editabletypes.dateui&&(a="dateui"),"date"!==a||b.fn.editabletypes.date||(a="combodate"));"datetime"===a&&"inline"===c.mode&&(a="datetimefield");"wysihtml5"!==a||b.fn.editabletypes[a]||(a="textarea");if("function"===typeof b.fn.editabletypes[a])return a=b.fn.editabletypes[a],
c=this.sliceObj(c,this.objectKeys(a.defaults)),c=new a(c);b.error("Unknown type: "+a);return!1},supportsTransitions:function(){var b=(document.body||document.documentElement).style,a="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"===typeof b[a])return!0;for(var a=a.charAt(0).toUpperCase()+a.substr(1),e=0;e<d.length;e++)if("string"===typeof b[d[e]+a])return!0;return!1}}})(window.jQuery);
(function(b){var c=function(b,a){this.init(b,a)},a=function(b,a){this.init(b,a)};c.prototype={containerName:null,innerCss:null,containerClass:"editable-container editable-popup",init:function(a,e){this.$element=b(a);this.options=b.extend({},b.fn.editableContainer.defaults,e);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",b.proxy(function(){this.destroy()},this));b(document).data("editable-handlers-attached")||(b(document).on("keyup.editable",
function(a){27===a.which&&b(".editable-open").editableContainer("hide");(27===a.which||13===a.which)&&b(".colpick").length&&b(".colpick").remove()}),b(document).on("click.editable",function(a){var d=b(a.target),e,k=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .colpick .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(b.contains(document.documentElement,a.target)&&!d.is(document)){for(e=0;e<k.length;e++)if(d.is(k[e])||d.parents(k[e]).length)return;
c.prototype.closeOthers(a.target)}}),b(document).data("editable-handlers-attached",!0))},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!b.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");var a=b.fn[this.containerName].defaults,c;for(c in this.options)c in a?this.containerOptions[c]=this.options[c]:this.formOptions[c]=this.options[c]},tip:function(){return this.container()?this.container().$tip:null},container:function(){return this.$element.data(this.containerDataName||
this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:b.proxy(this.save,this),nochange:b.proxy(function(){this.hide("nochange")},this),cancel:b.proxy(function(){this.hide("cancel")},this),show:b.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:b.proxy(this.setPosition,
this),resize:b.proxy(this.setPosition,this),rendered:b.proxy(function(){this.$element.triggerHandler("shown",this)},this)}).editableform("render")},show:function(a){this.$element.addClass("editable-open");!1!==a&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form=b("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);this.renderForm()},hide:function(a){this.tip()&&this.tip().is(":visible")&&
this.$element.hasClass("editable-open")&&(this.$form.data("editableform").isSaving?this.delayedHide={reason:a}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,b){this.$element.triggerHandler("save",b);this.hide("save")},option:function(a,
b){this.options[a]=b;a in this.containerOptions?(this.containerOptions[a]=b,this.setContainerOption(a,b)):(this.formOptions[a]=b,this.$form&&this.$form.editableform("option",a,b))},setContainerOption:function(a,b){this.call("option",a,b)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){b(".editable-open").each(function(c,f){if(f!==a&&!b(f).find(a).length){var g=b(f),h=
g.data("editableContainer");h&&("cancel"===h.options.onblur?g.data("editableContainer").hide("onblur"):"submit"===h.options.onblur&&g.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};b.fn.editableContainer=function(d){var e=arguments;return this.each(function(){var f=b(this),g=f.data("editableContainer"),h="object"===typeof d&&d,k="inline"===h.mode?a:c;g||f.data("editableContainer",
g=new k(this,h));"string"===typeof d&&g[d].apply(g,Array.prototype.slice.call(e,1))})};b.fn.editableContainer.Popup=c;b.fn.editableContainer.Inline=a;b.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(window.jQuery);
(function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=b("<span></span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},
innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);
(function(b){var c=function(a,d){this.$element=b(a);this.options=b.extend({},b.fn.editable.defaults,d,b.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!b.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};c.prototype={constructor:c,init:function(){var a=!1;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];if(this.input=b.fn.editableutils.createInput(this.options)){void 0===
this.options.value||null===this.options.value?(this.value=this.input.html2value(b.trim(this.$element.html())),a=!0):(this.options.value=b.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"===typeof this.options.value?this.input.str2value(this.options.value):this.options.value);this.$element.addClass("editable");"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",b.proxy(function(a){this.options.disabled||a.preventDefault();
"mouseenter"===this.options.toggle?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1);"function"===typeof this.options.display&&(this.options.autotext="always");switch(this.options.autotext){case "always":a=!0;break;case "auto":a=!b.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!a;break;default:a=!1}b.when(a?this.render():!0).then(b.proxy(function(){this.options.disabled?this.disable():this.enable();this.$element.triggerHandler("init",
this)},this))}},initLive:function(){var a=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",a,b.proxy(function(a){var c=b(a.target);c.data("editable")||(c.hasClass(this.options.emptyclass)&&c.empty(),c.editable(this.options).trigger(a))},this))},render:function(a){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,a):"function"===typeof this.options.display?
this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},
toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(a,d){if(a&&"object"===typeof a)b.each(a,b.proxy(function(a,d){this.option(b.trim(a),d)},this));else{this.options[a]=d;if("disabled"===a)return d?this.disable():this.enable();"value"===a&&this.setValue(d);this.container&&this.container.option(a,d);this.input.option&&this.input.option(a,d)}},handleEmpty:function(a){!1!==this.options.display&&((void 0!==a?this.isEmpty=a:""===b.trim(this.$element.html())?this.isEmpty=
!0:""!==b.trim(this.$element.text())?this.isEmpty=!1:this.isEmpty=!this.$element.height()||!this.$element.width(),this.options.disabled)?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(a){if(!this.options.disabled){if(!this.container){var d=
b.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(d);this.$element.on("save.internal",b.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible"))return;this.container.show(a)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,b){if(this.options.unsavedclass){var c;(c=(c=(c=
(c="function"===typeof this.options.url)||!1===this.options.display)||void 0!==b.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(b.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var f=this.$element,g=f.css("background-color");f.css("background-color",this.options.highlight);setTimeout(function(){f.css("background-color",g);f.addClass("editable-bg-transition");
setTimeout(function(){f.removeClass("editable-bg-transition")},1700)},0)}this.setValue(b.newValue,!1,b.response)},validate:function(){if("function"===typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(a,d,c){this.value=d?this.input.str2value(a):a;this.container&&this.container.option("value",this.value);b.when(this.render(c)).then(b.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();
this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};b.fn.editable=function(a){var d={},e=arguments;switch(a){case "validate":return this.each(function(){var a=b(this).data("editable"),c;a&&(c=a.validate())&&(d[a.options.name]=
c)}),d;case "getValue":return 2===arguments.length&&!0===arguments[1]?d=this.eq(0).data("editable").value:this.each(function(){var a=b(this).data("editable");a&&void 0!==a.value&&null!==a.value&&(d[a.options.name]=a.input.value2submit(a.value))}),d;case "submit":var f=arguments[1]||{},g=this,h=this.editable("validate");b.isEmptyObject(h)?(h=this.editable("getValue"),f.data&&b.extend(h,f.data),b.ajax(b.extend({url:f.url,data:h,type:"POST"},f.ajaxOptions)).success(function(a){"function"===typeof f.success&&
f.success.call(g,a,f)}).error(function(){"function"===typeof f.error&&f.error.apply(g,arguments)})):"function"===typeof f.error&&f.error.call(g,h);return this}return this.each(function(){var d=b(this),f=d.data("editable"),h="object"===typeof a&&a;f||d.data("editable",f=new c(this,h));"string"===typeof a&&f[a].apply(f,Array.prototype.slice.call(e,1))})};b.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",
unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);
(function(b){b.fn.editabletypes={};var c=function(){};c.prototype={init:function(a,d,c){this.type=a;this.options=b.extend({},c,d)},prerender:function(){this.$input=this.$tpl=b(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(a,d){b(d).text(b.trim(a))},html2value:function(a){return b("<div>").html(a).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},input2value:function(){return this.$input.val()},
activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(a){return b("<div>").text(a).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,b){this.options[a]=b}};c.defaults={tpl:"",inputclass:"input-medium",scope:null,
showbuttons:!0};b.extend(b.fn.editabletypes,{abstractinput:c})})(window.jQuery);
(function(b){var c=function(a){};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){var a=b.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();a.resolve()},function(){this.error=this.options.sourceError;a.resolve()});return a.promise()},html2value:function(a){return null},value2html:function(a,d,c,f){var g=b.Deferred(),h=function(){"function"===typeof c?c.call(d,a,this.sourceData,f):this.value2htmlFinal(a,d);g.resolve()};
if(null===a)h.call(this);else this.onSourceReady(h,function(){g.resolve()});return g.promise()},onSourceReady:function(a,c){var e;b.isFunction(this.options.source)?(e=this.options.source.call(this.options.scope),this.sourceData=null):e=this.options.source;if(this.options.sourceCache&&b.isArray(this.sourceData))a.call(this);else{try{e=b.fn.editableutils.tryParseJson(e,!1)}catch(f){c.call(this);return}if("string"===typeof e){if(this.options.sourceCache){var g=e,h;b(document).data(g)||b(document).data(g,
{});h=b(document).data(g);if(!1===h.loading&&h.sourceData){this.sourceData=h.sourceData;this.doPrepend();a.call(this);return}if(!0===h.loading){h.callbacks.push(b.proxy(function(){this.sourceData=h.sourceData;this.doPrepend();a.call(this)},this));h.err_callbacks.push(b.proxy(c,this));return}h.loading=!0;h.callbacks=[];h.err_callbacks=[]}b.ajax({url:e,type:"get",cache:!1,dataType:"json",success:b.proxy(function(e){h&&(h.loading=!1);this.sourceData=this.makeArray(e);b.isArray(this.sourceData)?(h&&(h.sourceData=
this.sourceData,b.each(h.callbacks,function(){this.call()})),this.doPrepend(),a.call(this)):(c.call(this),h&&b.each(h.err_callbacks,function(){this.call()}))},this),error:b.proxy(function(){c.call(this);h&&(h.loading=!1,b.each(h.err_callbacks,function(){this.call()}))},this)})}else this.sourceData=this.makeArray(e),b.isArray(this.sourceData)?(this.doPrepend(),a.call(this)):c.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(b.isArray(this.prependData)||
(b.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=b.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"===typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),b.isArray(this.prependData)&&b.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(a,b){},
makeArray:function(a){var c,e,f=[],g,h;if(!a||"string"===typeof a)return null;if(b.isArray(a)){h=function(a,b){e={value:a,text:b};if(2<=c++)return!1};for(var k=0;k<a.length;k++)g=a[k],"object"===typeof g?(c=0,b.each(g,h),1===c?f.push(e):1<c&&(g.children&&(g.children=this.makeArray(g.children)),f.push(g))):f.push({value:g,text:g})}else b.each(a,function(a,b){f.push({value:a,text:b})});return f},option:function(a,b){this.options[a]=b;"source"===a&&(this.sourceData=null);"prepend"===a&&(this.prependData=
null)}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0});b.fn.editabletypes.list=c})(window.jQuery);
(function(b){var c=function(a){this.init("text",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),b.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=b('<span class="editable-clear-x"></span>'),
this.$input.after(this.$clear).css("padding-right",24).keyup(b.proxy(function(a){if(!~b.inArray(a.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var c=this;this.t=setTimeout(function(){c.toggleClear(a)},100)}},this)).parent().css("position","relative"),this.$clear.click(b.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(a){if(this.$clear){a=this.$input.val().length;var b=this.$clear.is(":visible");a&&!b&&this.$clear.show();!a&&b&&this.$clear.hide()}},clear:function(){this.$clear.hide();
this.$input.val("").focus()}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});b.fn.editabletypes.text=c})(window.jQuery);
(function(b){var c=function(a){this.init("textarea",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(a){a.ctrlKey&&13===a.which&&b(this).closest("form").submit()})},value2html:function(a,c){var e="";if(a){for(var e=a.split("\n"),f=0;f<e.length;f++)e[f]=b("<div>").text(e[f]).html();e=e.join("<br>")}b(c).html(e)},html2value:function(a){if(!a)return"";
var c=new RegExp(String.fromCharCode(10),"g");a=a.split(/<br\s*\/?>/i);for(var e=0;e<a.length;e++){var f=b("<div>").html(a[e]).text(),f=f.replace(c,"");a[e]=f}return a.join("\n")},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});b.fn.editabletypes.textarea=c})(window.jQuery);
(function(b){var c=function(a){this.init("select",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){this.$input.empty();var a=function(c,e){if(b.isArray(e))for(var f=0;f<e.length;f++)e[f].children?c.append(a(b("<optgroup>",{label:e[f].text}),e[f].children)):c.append(b("<option>",{value:e[f].value}).html(e[f].text));return c};a(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(a){13===a.which&&b(this).closest("form").submit()})},
value2htmlFinal:function(a,c){var e="",f=b.fn.editableutils.itemsByValue(a,this.sourceData);f.length&&(e=f[0].text);b(c).text(e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){b(this).closest("form").submit()})}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:"<select></select>"});b.fn.editabletypes.select=c})(window.jQuery);
(function(b){var c=function(a){this.init("checklist",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){var a;this.$tpl.empty();if(b.isArray(this.sourceData)){for(var c=0;c<this.sourceData.length;c++)a=b("<label>").append(b("<input>",{type:"checkbox",value:this.sourceData[c].value})).append(b("<span>").text(" "+this.sourceData[c].text)),b("<div>").append(a).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},
value2str:function(a){return b.isArray(a)?a.sort().join(b.trim(this.options.separator)):""},str2value:function(a){var c;c=null;"string"===typeof a&&a.length?(c=new RegExp("\\s*"+b.trim(this.options.separator)+"\\s*"),c=a.split(c)):c=b.isArray(a)?a:[a];return c},value2input:function(a){this.$input.prop("checked",!1);b.isArray(a)&&a.length&&this.$input.each(function(c,e){var f=b(e);b.each(a,function(a,b){f.val()==b&&f.prop("checked",!0)})})},input2value:function(){var a=[];this.$input.filter(":checked").each(function(c,
e){a.push(b(e).val())});return a},value2htmlFinal:function(a,c){var e=[],f=b.fn.editableutils.itemsByValue(a,this.sourceData);f.length?(b.each(f,function(a,c){e.push(b.fn.editableutils.escape(c.text))}),b(c).html(e.join("<br>"))):b(c).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(a){13===a.which&&b(this).closest("form").submit()})}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',
inputclass:null,separator:","});b.fn.editabletypes.checklist=c})(window.jQuery);(function(b){var c=function(a){this.init("password",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{value2html:function(a,c){a?b(c).text("[hidden]"):b(c).empty()},html2value:function(a){return null}});c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});b.fn.editabletypes.password=c})(window.jQuery);
(function(b){var c=function(a){this.init("email",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});b.fn.editabletypes.email=c})(window.jQuery);(function(b){var c=function(a){this.init("url",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});b.fn.editabletypes.url=c})(window.jQuery);
(function(b){var c=function(a){this.init("tel",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});b.fn.editabletypes.tel=c})(window.jQuery);
(function(b){var c=function(a){this.init("number",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{render:function(){c.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});b.fn.editabletypes.number=c})(window.jQuery);
(function(b){var c=function(a){this.init("range",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.number);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){b(this).siblings("output").text(b(this).val())})},activate:function(){this.$input.focus()}});c.defaults=b.extend({},b.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',
inputclass:"input-medium"});b.fn.editabletypes.range=c})(window.jQuery);
(function(b){var c=function(a){this.init("select2",a,c.defaults);a.select2=a.select2||{};this.sourceData=null;a.placeholder&&(a.select2.placeholder=a.placeholder);if(!a.select2.tags&&a.source){var d=a.source;b.isFunction(a.source)&&(d=a.source.call(a.scope));"string"===typeof d?(a.select2.ajax=a.select2.ajax||{},a.select2.ajax.data||(a.select2.ajax.data=function(a){return{query:a}}),a.select2.ajax.results||(a.select2.ajax.results=function(a){return{results:a}}),a.select2.ajax.url=d):(this.sourceData=
this.convertSource(d),a.select2.data=this.sourceData)}this.options.select2=b.extend({},c.defaults.select2,a.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass();this.$input.select2(this.options.select2);if(this.isRemote)this.$input.on("select2-loaded",b.proxy(function(a){this.sourceData=a.items.results},this));
if(this.isMultiple)this.$input.on("change",function(){b(this).closest("form").parent().triggerHandler("resize")})},value2html:function(a,c){var e="",f;this.options.select2.tags?f=a:this.sourceData&&(f=b.fn.editableutils.itemsByValue(a,this.sourceData,"id"));b.isArray(f)?(e=[],b.each(f,function(a,b){e.push(b&&"object"===typeof b?b.text:b)})):f&&(e=f.text);e=b.isArray(e)?e.join(this.options.viewseparator):e;b(c).text(e)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):
null},value2input:function(a){if(this.isRemote){var c,e;this.sourceData&&(e=b.fn.editableutils.itemsByValue(a,this.sourceData,"id"),e.length&&(c=e[0]));c||(c={id:a,text:b(this.options.scope).text()});this.$input.select2("data",c).trigger("change",!0)}else this.$input.val(a).trigger("change",!0)},input2value:function(){return this.$input.select2("val")},str2value:function(a,c){if("string"!==typeof a||!this.isMultiple)return a;c=c||this.options.select2.separator||b.fn.select2.defaults.separator;var e,
f,g;if(null===a||1>a.length)return null;e=a.split(c);f=0;for(g=e.length;f<g;f+=1)e[f]=b.trim(e[f]);return e},autosubmit:function(){this.$input.on("change",function(a,c){c||b(this).closest("form").submit()})},convertSource:function(a){if(b.isArray(a)&&a.length&&void 0!==a[0].value)for(var c=0;c<a.length;c++)void 0!==a[c].value&&(a[c].id=a[c].value,delete a[c].value);return a}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,
source:null,viewseparator:", "});b.fn.editabletypes.select2=c})(window.jQuery);
(function(b){var c=function(a){this.init("combodate",a,c.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);a.combodate=b.fn.editableutils.tryParseJson(a.combodate,!0);this.options.combodate=b.extend({},c.defaults.combodate,a.combodate,{format:this.options.format,template:this.options.template})};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate)},value2html:function(a,c){var e=
a?a.format(this.options.viewformat):"";b(c).text(e)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},
autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});b.fn.editabletypes.combodate=c})(window.jQuery);
(function(b){b.extend(b.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=b(b.fn.editableform.template);this.$form.find(".editable-error-block").addClass("help-block")}});b.fn.editableform.buttons='<button type="submit" class="btn btn-primary editable-submit"><i class="icon-ok icon-white"></i></button><button type="button" class="btn editable-cancel"><i class="icon-remove"></i></button>';b.fn.editableform.errorGroupClass="error";b.fn.editableform.errorBlockClass=null})(window.jQuery);
(function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",innerCss:b.fn.popover&&b(b.fn.popover.defaults.template).find("p").length?".popover-content p":".popover-content",initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:b.fn.popover.defaults.template});var c;this.$element.data("template")&&(c=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);c&&this.$element.data("template",
c)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(b,a){this.container().options[b]=a},setPosition:function(){(function(){var b=this.tip(),a,d,e,f,g,h;g="function"===typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement;a=/in/.test(g);b.removeClass("top right bottom left").css({top:0,left:0,display:"block"});d=this.getPosition(a);e=b[0].offsetWidth;
f=b[0].offsetHeight;switch(a?g.split(" ")[1]:g){case "bottom":h={top:d.top+d.height,left:d.left+d.width/2-e/2};break;case "top":h={top:d.top-f,left:d.left+d.width/2-e/2};break;case "left":h={top:d.top+d.height/2-f/2,left:d.left-e};break;case "right":h={top:d.top+d.height/2-f/2,left:d.left+d.width}}b.offset(h).addClass(g).addClass("in")}).call(this.container())}})})(window.jQuery);
(function(b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function a(a,c){var d=b(a).data(),e={},f,h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var g in d)c.test(g)&&(f=g.replace(h,function(a,b){return b.toLowerCase()}),e[f]=d[g]);return e}function d(a){var c={};if(!p[a]&&(a=a.split("-")[0],!p[a]))return;var d=p[a];b.each(x,function(a,b){b in d&&(c[b]=d[b])});return c}var e=function(a,c){this._process_options(c);this.element=b(a);this.isInline=
!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=b(l.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));
this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};e.prototype={constructor:e,_process_options:function(a){this._o=b.extend({},this._o,a);a=this.o=b.extend({},
this._o);var c=a.language;p[c]||(c=c.split("-")[0],p[c]||(c=k.language));a.language=c;switch(a.startView){case 2:case "decade":a.startView=2;break;case 1:case "year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case "months":a.minViewMode=1;break;case 2:case "years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode);a.weekStart%=7;a.weekEnd=(a.weekStart+6)%7;c=l.parseFormat(a.format);-Infinity!==a.startDate&&(a.startDate=l.parseDate(a.startDate,
c,a.language));Infinity!==a.endDate&&(a.endDate=l.parseDate(a.endDate,c,a.language));a.daysOfWeekDisabled=a.daysOfWeekDisabled||[];b.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/));a.daysOfWeekDisabled=b.map(a.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d;b<a.length;b++)c=a[b][0],d=a[b][1],c.on(d)},_unapplyEvents:function(a){for(var b=0,c,d;b<a.length;b++)c=a[b][0],d=a[b][1],
c.off(d)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:b.proxy(this.show,this),keyup:b.proxy(this.update,this),keydown:b.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:b.proxy(this.show,this),keyup:b.proxy(this.update,this),keydown:b.proxy(this.keydown,this)}],[this.component,{click:b.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:b.proxy(this.show,this)}]];this._secondaryEvents=
[[this.picker,{click:b.proxy(this.click,this)}],[b(window),{resize:b.proxy(this.place,this)}],[b(document),{mousedown:b.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},
_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,c){var d=c||this.date,e=new Date(d.getTime()+6E4*d.getTimezoneOffset());this.element.trigger({type:a,date:e,format:b.proxy(function(a){return l.formatDate(d,a||this.o.format,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();
a&&a.preventDefault();this._trigger("show")},hide:function(a){!this.isInline&&this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||
delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6E4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6E4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){void 0===a&&(a=this.o.format);
return l.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var a=parseInt(this.element.parents().filter(function(){return"auto"!=b(this).css("z-index")}).first().css("z-index"))+
10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:c.top+d,left:c.left,zIndex:a})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);
this.date=l.parseDate(a,this.o.format,this.o.language);b&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(b+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;a<this.o.weekStart+7;)b+='<th class="dow">'+p[this.o.language].daysMin[a++%
7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+p[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(a){a&&a.length?this.range=b.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(a){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=this.date.valueOf(),g=new Date;a.getUTCFullYear()<
d||a.getUTCFullYear()==d&&a.getUTCMonth()<e?c.push("old"):(a.getUTCFullYear()>d||a.getUTCFullYear()==d&&a.getUTCMonth()>e)&&c.push("new");this.o.todayHighlight&&a.getUTCFullYear()==g.getFullYear()&&a.getUTCMonth()==g.getMonth()&&a.getUTCDate()==g.getDate()&&c.push("today");f&&a.valueOf()==f&&c.push("active");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==b.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled");this.range&&(a>this.range[0]&&a<this.range[this.range.length-
1]&&c.push("range"),-1!=b.inArray(a.valueOf(),this.range)&&c.push("selected"));return c},fill:function(){var a=new Date(this.viewDate),d=a.getUTCFullYear(),e=a.getUTCMonth(),a=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,f=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,g=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,h=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[e]+
" "+d);this.picker.find("tfoot th.today").text(p[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(p[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var k=c(d,e-1,28,0,0,0,0),e=l.getDaysInMonth(k.getUTCFullYear(),k.getUTCMonth());k.setUTCDate(e);k.setUTCDate(e-(k.getUTCDay()-this.o.weekStart+7)%7);var q=new Date(k);q.setUTCDate(q.getUTCDate()+42);for(var q=q.valueOf(),e=[],n;k.valueOf()<q;){if(k.getUTCDay()==
this.o.weekStart&&(e.push("<tr>"),this.o.calendarWeeks)){n=new Date(+k+(this.o.weekStart-k.getUTCDay()-7)%7*864E5);n=new Date(+n+(11-n.getUTCDay())%7*864E5);var v=new Date(+(v=c(n.getUTCFullYear(),0,1))+(11-v.getUTCDay())%7*864E5);e.push('<td class="cw">'+((n-v)/864E5/7+1)+"</td>")}n=this.getClassNames(k);n.push("day");var r=this.o.beforeShowDay(k);void 0===r?r={}:"boolean"===typeof r?r={enabled:r}:"string"===typeof r&&(r={classes:r});!1===r.enabled&&n.push("disabled");r.classes&&(n=n.concat(r.classes.split(/\s+/)));
r.tooltip&&(m=r.tooltip);n=b.unique(n);e.push('<td class="'+n.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+k.getUTCDate()+"</td>");k.getUTCDay()==this.o.weekEnd&&e.push("</tr>");k.setUTCDate(k.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(e.join(""));m=this.date&&this.date.getUTCFullYear();e=this.picker.find(".datepicker-months").find("th:eq(1)").text(d).end().find("span").removeClass("active");m&&m==d&&e.eq(this.date.getUTCMonth()).addClass("active");(d<a||d>g)&&e.addClass("disabled");
d==a&&e.slice(0,f).addClass("disabled");d==g&&e.slice(h+1).addClass("disabled");e="";d=10*parseInt(d/10,10);f=this.picker.find(".datepicker-years").find("th:eq(1)").text(d+"-"+(d+9)).end().find("td");--d;for(h=-1;11>h;h++)e+='<span class="year'+(-1==h?" old":10==h?" new":"")+(m==d?" active":"")+(d<a||d>g?" disabled":"")+'">'+d+"</span>",d+=1;f.html(e)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();a=b(a.target).closest("span, td, th");if(1==a.length)switch(a[0].nodeName.toLowerCase()){case "th":switch(a[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":a=l.modes[this.viewMode].navStep*("prev"==a[0].className?
-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a)}this.fill();break;case "today":a=new Date;a=c(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);this.showMode(-2);this._setDate(a,"linked"==this.o.todayBtn?null:"view");break;case "clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input"));d&&d.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;
case "span":if(!a.is(".disabled")){this.viewDate.setUTCDate(1);if(a.is(".month")){d=1;var e=a.parent().find("span").index(a),f=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(e);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(c(f,e,d,0,0,0,0))}else f=parseInt(a.text(),10)||0,d=1,e=0,this.viewDate.setUTCFullYear(f),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(f,e,d,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":a.is(".day")&&
!a.is(".disabled")&&(d=parseInt(a.text(),10)||1,f=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),a.is(".old")?0===e?(e=11,--f):--e:a.is(".new")&&(11==e?(e=0,f+=1):e+=1),this._setDate(c(f,e,d,0,0,0,0)))}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a));b&&"view"!=b||(this.viewDate=new Date(a));this.fill();this.setValue();this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input"));c&&(c.change(),!this.o.autoclose||b&&"date"!=
b||this.hide())},moveMonth:function(a,b){if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),f=Math.abs(b),g;b=0<b?1:-1;if(1==f){if(f=-1==b?function(){return c.getUTCMonth()==e}:function(){return c.getUTCMonth()!=g},g=e+b,c.setUTCMonth(g),0>g||11<g)g=(g+12)%12}else{for(var h=0;h<f;h++)c=this.moveMonth(c,b);g=c.getUTCMonth();c.setUTCDate(d);f=function(){return g!=c.getUTCMonth()}}for(;f();)c.setUTCDate(--d),c.setUTCMonth(g);return c},moveYear:function(a,b){return this.moveMonth(a,
12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27==a.keyCode&&this.show();else{var b=!1,c,d,e;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;c=37==a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.date,c),e=this.moveYear(this.viewDate,c)):a.shiftKey?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):(d=new Date(this.date),d.setUTCDate(this.date.getUTCDate()+
c),e=new Date(this.viewDate),e.setUTCDate(this.viewDate.getUTCDate()+c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;c=38==a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.date,c),e=this.moveYear(this.viewDate,c)):a.shiftKey?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):(d=new Date(this.date),d.setUTCDate(this.date.getUTCDate()+7*c),e=new Date(this.viewDate),
e.setUTCDate(this.viewDate.getUTCDate()+7*c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 13:this.hide();a.preventDefault();break;case 9:this.hide()}if(b){this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input"));f&&f.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+
l.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var f=function(a,c){this.element=b(a);this.inputs=b.map(c.inputs,function(a){return a.jquery?a[0]:a});delete c.inputs;b(this.inputs).datepicker(c).bind("changeDate",b.proxy(this.dateUpdated,this));this.pickers=b.map(this.inputs,function(a){return b(a).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=b.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var a=
b.map(this.dates,function(a){return a.valueOf()});b.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){var c=b(a.target).data("datepicker").getUTCDate();a=b.inArray(a.target,this.inputs);var d=this.inputs.length;if(-1!=a){if(c<this.dates[a])for(;0<=a&&c<this.dates[a];)this.pickers[a--].setUTCDate(c);else if(c>this.dates[a])for(;a<d&&c>this.dates[a];)this.pickers[a++].setUTCDate(c);this.updateDates()}},remove:function(){b.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};
var g=b.fn.datepicker,h=b.fn.datepicker=function(c){var g=Array.apply(null,arguments);g.shift();var h;this.each(function(){var l=b(this),t=l.data("datepicker"),u="object"==typeof c&&c;if(!t){var t=a(this,"date"),m=b.extend({},k,t,u),m=d(m.language),u=b.extend({},k,m,t,u);l.is(".input-daterange")||u.inputs?(t={inputs:u.inputs||l.find("input").toArray()},l.data("datepicker",t=new f(this,b.extend(u,t)))):l.data("datepicker",t=new e(this,u))}if("string"==typeof c&&"function"==typeof t[c]&&(h=t[c].apply(t,
g),void 0!==h))return!1});return void 0!==h?h:this},k=b.fn.datepicker.defaults={autoclose:!1,beforeShowDay:b.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},x=b.fn.datepicker.locale_opts=["format","rtl","weekStart"];b.fn.datepicker.Constructor=e;var p=b.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%
100||0===a%400},getDaysInMonth:function(a,b){return[31,l.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(a,d,f){if(a instanceof Date)return a;"string"===typeof d&&(d=l.parseFormat(d));
if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){var g=/([\-+]\d+)([dmwy])/,h=a.match(/([\-+]\d+)([dmwy])/g),k;a=new Date;for(var m=0;m<h.length;m++)switch(d=g.exec(h[m]),k=parseInt(d[1]),d[2]){case "d":a.setUTCDate(a.getUTCDate()+k);break;case "m":a=e.prototype.moveMonth.call(e.prototype,a,k);break;case "w":a.setUTCDate(a.getUTCDate()+7*k);break;case "y":a=e.prototype.moveYear.call(e.prototype,a,k)}return c(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}h=a&&a.match(this.nonpunctuation)||
[];a=new Date;var g={},w="yyyy yy M MM m mm d dd".split(" ");k={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var q;k.M=k.MM=k.mm=k.m;k.dd=k.d;a=c(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var n=d.parts.slice();h.length!=n.length&&(n=b(n).filter(function(a,c){return-1!==b.inArray(c,
w)}).toArray());if(h.length==n.length){for(var m=0,v=n.length;m<v;m++){q=parseInt(h[m],10);d=n[m];if(isNaN(q))switch(d){case "MM":q=b(p[f].months).filter(function(){var a=this.slice(0,h[m].length),b=h[m].slice(0,a.length);return a==b});q=b.inArray(q[0],p[f].months)+1;break;case "M":q=b(p[f].monthsShort).filter(function(){var a=this.slice(0,h[m].length),b=h[m].slice(0,a.length);return a==b}),q=b.inArray(q[0],p[f].monthsShort)+1}g[d]=q}for(m=0;m<w.length;m++)if(d=w[m],d in g&&!isNaN(g[d]))k[d](a,g[d])}return a},
formatDate:function(a,c,d){"string"===typeof c&&(c=l.parseFormat(c));d={d:a.getUTCDate(),D:p[d].daysShort[a.getUTCDay()],DD:p[d].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:p[d].monthsShort[a.getUTCMonth()],MM:p[d].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;a=[];for(var e=b.extend([],c.separators),f=0,g=c.parts.length;f<=g;f++)e.length&&a.push(e.shift()),a.push(d[c.parts[f]]);return a.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',
contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>";b.fn.datepicker.DPGlobal=l;b.fn.datepicker.noConflict=function(){b.fn.datepicker=g;return this};b(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var c=b(this);c.data("datepicker")||(a.preventDefault(),h.call(c,"show"))});b(function(){h.call(b('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(b){b.fn.bdatepicker=b.fn.datepicker.noConflict();b.fn.datepicker||(b.fn.datepicker=b.fn.bdatepicker);var c=function(a){this.init("date",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{initPicker:function(a,c){this.options.viewformat||(this.options.viewformat=this.options.format);this.options.datepicker=b.extend({},c.datepicker,a.datepicker,{format:this.options.viewformat});this.options.datepicker.language=
this.options.datepicker.language||"en";this.dpg=b.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=b('<a href="#"></a>').html(this.options.clear).click(b.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(b('<div class="editable-clear">').append(this.$clear)))},
value2html:function(a,b){var e=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";c.superclass.value2html(e,b)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",a)},
input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(a){if(!b(a.currentTarget).is(".old")&&!b(a.currentTarget).is(".new")){var c=b(this).closest("form");setTimeout(function(){c.submit()},200)}})},parseDate:function(a,b){var c=null,
f;a&&(c=this.dpg.parseDate(a,b,this.options.datepicker.language),"string"===typeof a&&(f=this.dpg.formatDate(c,b,this.options.datepicker.language),a!==f&&(c=null)));return c}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});b.fn.editabletypes.date=c})(window.jQuery);
(function(b){var c=function(a){this.init("datefield",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.date);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?
this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,
startView:0,minViewMode:0,autoclose:!0}});b.fn.editabletypes.datefield=c})(window.jQuery);
(function(b){var c=function(a){this.init("datetime",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{initPicker:function(a,c){this.options.viewformat||(this.options.viewformat=this.options.format);this.options.datetimepicker=b.extend({},c.datetimepicker,a.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=b.fn.datetimepicker.DPGlobal;
this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(a){var c=b(this).closest("form").parent();setTimeout(function(){c.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=b('<a href="#"></a>').html(this.options.clear).click(b.proxy(function(a){a.preventDefault();
a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(b('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,b){var e=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(b)c.superclass.value2html(e,b);else return e},html2value:function(a){return(a=this.parseDate(a,this.parsedViewFormat))?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,
this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){return(a=this.parseDate(a,this.parsedFormat))?this.fromUTC(a):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");
this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(a){var c=b(this).closest("form");setTimeout(function(){c.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6E4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6E4*a.getTimezoneOffset()):a},parseDate:function(a,b){var c=null,f;a&&(c=this.dpg.parseDate(a,b,this.options.datetimepicker.language,this.options.formatType),"string"===
typeof a&&(f=this.dpg.formatDate(c,b,this.options.datetimepicker.language,this.options.formatType),a!==f&&(c=null)));return c}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});b.fn.editabletypes.datetime=c})(window.jQuery);
(function(b){var c=function(a){this.init("datetimefield",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.datetime);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));
this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});b.fn.editabletypes.datetimefield=c})(window.jQuery);
(function(b){var c=function(a){this.init("typeahead",a,c.defaults);this.options.typeahead=b.extend({},c.defaults.typeahead,{matcher:this.matcher,sorter:this.sorter,highlighter:this.highlighter,updater:this.updater},a.typeahead)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){this.$input=this.$tpl.is("input")?this.$tpl:this.$tpl.find('input[type="text"]');this.options.typeahead.source=this.sourceData;this.$input.typeahead(this.options.typeahead);var a=
this.$input.data("typeahead");a.render=b.proxy(this.typeaheadRender,a);a.select=b.proxy(this.typeaheadSelect,a);a.move=b.proxy(this.typeaheadMove,a);this.renderClear();this.setClass();this.setAttr("placeholder")},value2htmlFinal:function(a,c){if(this.getIsObjects()){var e=b.fn.editableutils.itemsByValue(a,this.sourceData);b(c).text(e.length?e[0].text:"")}else b(c).text(a)},html2value:function(a){return a?a:null},value2input:function(a){if(this.getIsObjects()){var c=b.fn.editableutils.itemsByValue(a,
this.sourceData);this.$input.data("value",a).val(c.length?c[0].text:"")}else this.$input.val(a)},input2value:function(){if(this.getIsObjects()){var a=this.$input.data("value"),c=b.fn.editableutils.itemsByValue(a,this.sourceData);return c.length&&c[0].text.toLowerCase()===this.$input.val().toLowerCase()?a:null}return this.$input.val()},getIsObjects:function(){if(void 0===this.isObjects){this.isObjects=!1;for(var a=0;a<this.sourceData.length;a++)if(this.sourceData[a].value!==this.sourceData[a].text){this.isObjects=
!0;break}}return this.isObjects},activate:b.fn.editabletypes.text.prototype.activate,renderClear:b.fn.editabletypes.text.prototype.renderClear,postrender:b.fn.editabletypes.text.prototype.postrender,toggleClear:b.fn.editabletypes.text.prototype.toggleClear,clear:function(){b.fn.editabletypes.text.prototype.clear.call(this);this.$input.data("value","")},matcher:function(a){return b.fn.typeahead.Constructor.prototype.matcher.call(this,a.text)},sorter:function(a){for(var b=[],c=[],f=[],g,h;g=a.shift();)h=
g.text,h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?c.push(g):f.push(g):b.push(g);return b.concat(c,f)},highlighter:function(a){return b.fn.typeahead.Constructor.prototype.highlighter.call(this,a.text)},updater:function(a){this.$element.data("value",a.value);return a.text},typeaheadRender:function(a){var c=this;a=b(a).map(function(a,f){a=b(c.options.item).data("item",f);a.find("a").html(c.highlighter(f));return a[0]});this.options.autoSelect&&a.first().addClass("active");
this.$menu.html(a);return this},typeaheadSelect:function(){var a=this.$menu.find(".active").data("item");(this.options.autoSelect||a)&&this.$element.val(this.updater(a)).change();return this.hide()},typeaheadMove:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:if(!this.$menu.find(".active").length)return;a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,
{tpl:'<input type="text">',typeahead:null,clear:!0});b.fn.editabletypes.typeahead=c})(window.jQuery);