(function(n){function q(){var a=document.createElement("div");return"undefined"!=typeof a.style.MozTransition||"undefined"!=typeof a.style.OTransition||"undefined"!=typeof a.style.webkitTransition||"undefined"!=typeof a.style.transition}function p(a,b,e,c,d){this.axisName=a;this.position=b;this.padding=e;this.plot=c;this.opts=d;this.height=this.width=0}function l(a,b,e,c,d){p.prototype.constructor.call(this,a,b,e,c,d)}function h(a,b,e,c,d){p.prototype.constructor.call(this,a,b,e,c,d);this.elem=null}
function f(a,b,e,c,d){h.prototype.constructor.call(this,a,b,e,c,d)}function m(a,b,e,c,d){f.prototype.constructor.call(this,a,b,e,c,d);this.requiresResize=!1}p.prototype.cleanup=function(){};l.prototype=new p;l.prototype.constructor=l;l.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14);this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+
this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)};l.prototype.draw=function(a){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var b=this.plot.getCanvas().getContext("2d");b.save();b.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;b.fillStyle=this.opts.axisLabelColour;var e=b.measureText(this.opts.axisLabel).width,c=this.opts.axisLabelFontSizePixels,d,f,h=0;"top"==this.position?(d=a.left+a.width/2-e/2,f=
a.top+.72*c):"bottom"==this.position?(d=a.left+a.width/2-e/2,f=a.top+a.height-.72*c):"left"==this.position?(d=a.left+.72*c,f=a.height/2+a.top+e/2,h=-Math.PI/2):"right"==this.position&&(d=a.left+a.width-.72*c,f=a.height/2+a.top-e/2,h=Math.PI/2);b.translate(d,f);b.rotate(h);b.fillText(this.opts.axisLabel,0,0);b.restore()};h.prototype=new p;h.prototype.constructor=h;h.prototype.calculateSize=function(){var a=n('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(a);
this.labelWidth=a.outerWidth(!0);this.labelHeight=a.outerHeight(!0);a.remove();this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding};h.prototype.cleanup=function(){this.elem&&this.elem.remove()};h.prototype.draw=function(a){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();this.elem=n('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+
"</div>");this.plot.getPlaceholder().append(this.elem);"top"==this.position?(this.elem.css("left",a.left+a.width/2-this.labelWidth/2+"px"),this.elem.css("top",a.top+"px")):"bottom"==this.position?(this.elem.css("left",a.left+a.width/2-this.labelWidth/2+"px"),this.elem.css("top",a.top+a.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",a.top+a.height/2-this.labelHeight/2+"px"),this.elem.css("left",a.left+"px")):"right"==this.position&&(this.elem.css("top",a.top+a.height/2-this.labelHeight/
2+"px"),this.elem.css("left",a.left+a.width-this.labelWidth+"px"))};f.prototype=new h;f.prototype.constructor=f;f.prototype.calculateSize=function(){h.prototype.calculateSize.call(this);this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding};f.prototype.transforms=function(a,b,e){var c={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=b||0!=e)b=" translate("+b+"px, "+
e+"px)",c["-moz-transform"]+=b,c["-webkit-transform"]+=b,c["-o-transform"]+=b,c["-ms-transform"]+=b;0!=a&&(a=" rotate("+a+"deg)",c["-moz-transform"]+=a,c["-webkit-transform"]+=a,c["-o-transform"]+=a,c["-ms-transform"]+=a);a="top: 0; left: 0; ";for(var d in c)c[d]&&(a+=d+":"+c[d]+";");return a+";"};f.prototype.calculateOffsets=function(a){var b={x:0,y:0,degrees:0};"bottom"==this.position?(b.x=a.left+a.width/2-this.labelWidth/2,b.y=a.top+a.height-this.labelHeight):"top"==this.position?(b.x=a.left+a.width/
2-this.labelWidth/2,b.y=a.top):"left"==this.position?(b.degrees=-90,b.x=a.left-this.labelWidth/2+this.labelHeight/2,b.y=a.height/2+a.top):"right"==this.position&&(b.degrees=90,b.x=a.left+a.width-this.labelWidth/2-this.labelHeight/2,b.y=a.height/2+a.top);return b};f.prototype.draw=function(a){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();a=this.calculateOffsets(a);this.elem=n('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(a.degrees,
a.x,a.y)+'">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(this.elem)};m.prototype=new f;m.prototype.constructor=m;m.prototype.transforms=function(a,b,e){var c="";if(0!=a){for(a/=90;0>a;)a+=4;c+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+a+"); ";this.requiresResize="right"==this.position}0!=b&&(c+="left: "+b+"px; ");0!=e&&(c+="top: "+e+"px; ");return c};m.prototype.calculateOffsets=function(a){var b=f.prototype.calculateOffsets.call(this,a);"top"==this.position?
b.y=a.top+1:"left"==this.position?(b.x=a.left,b.y=a.height/2+a.top-this.labelWidth/2):"right"==this.position&&(b.x=a.left+a.width-this.labelHeight,b.y=a.height/2+a.top-this.labelWidth/2);return b};m.prototype.draw=function(a){f.prototype.draw.call(this,a);this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))};n.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(a,
e){if(e.axisLabels.show){var c=!1,d={};a.hooks.draw.push(function(a,b){var e=!1;c?(c=!1,n.each(a.getAxes(),function(b,c){var e=c.options||a.getOptions()[b];e&&e.axisLabel&&c.show&&d[b].draw(c.box)})):(n.each(a.getAxes(),function(b,c){var g=c.options||a.getOptions()[b];b in d&&(c.labelHeight-=d[b].height,c.labelWidth-=d[b].width,g.labelHeight=c.labelHeight,g.labelWidth=c.labelWidth,d[b].cleanup(),delete d[b]);if(g&&g.axisLabel&&c.show){e=!0;var k=null;if(g.axisLabelUseHtml||"Microsoft Internet Explorer"!=
navigator.appName){if(!(k=g.axisLabelUseHtml)){if(k=!q())k=document.createElement("canvas").getContext?"function"==typeof document.createElement("canvas").getContext("2d").fillText:!1,k=!k;k=k&&!g.axisLabelUseCanvas}k=k?h:g.axisLabelUseCanvas||!q()?l:f}else null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(rv=parseFloat(RegExp.$1)),k=9<=rv&&!g.axisLabelUseCanvas&&!g.axisLabelUseHtml?f:g.axisLabelUseCanvas||g.axisLabelUseHtml?g.axisLabelUseCanvas?l:h:m;d[b]=new k(b,c.position,void 0===
g.axisLabelPadding?2:g.axisLabelPadding,a,g);d[b].calculateSize();g.labelHeight=c.labelHeight+d[b].height;g.labelWidth=c.labelWidth+d[b].width}}),e&&(c=!0,a.setupGrid(),a.draw()))})}})},options:{axisLabels:{show:!0}},name:"axisLabels",version:"2.0"})})(jQuery);