(function(b){b.fn.paginate=function(a){var d=b.extend({},b.fn.paginate.defaults,a);return this.each(function(){$this=b(this);var a=b.meta?b.extend({},d,$this.data()):d;b.fn.draw(a,$this,a.start)})};var r=0,p=0;if(0<navigator.appVersion.indexOf("MSIE 7.0"))var u="ie7";b.fn.paginate.defaults={count:5,start:12,display:5,border:!0,border_color:"#fff",text_color:"#8cc59d",background_color:"black",border_hover_color:"#fff",text_hover_color:"#fff",background_hover_color:"#fff",rotate:!0,images:!0,mouse:"slide",
onChange:function(){return!1}};b.fn.draw=function(a,d,k){a.display>a.count&&(a.display=a.count);$this.empty();if(a.images){var h="jPag-sprevious-img";d="jPag-snext-img"}else h="jPag-sprevious",d="jPag-snext";var g=b(document.createElement("a")).addClass("jPag-first").html("First");if(a.rotate)var e=a.images?b(document.createElement("span")).addClass(h):b(document.createElement("span")).addClass(h).html("&laquo;");h=b(document.createElement("div")).addClass("jPag-control-back");h.append(g).append(e);
for(var c=b(document.createElement("div")).css("overflow","hidden"),q=b(document.createElement("ul")).addClass("jPag-pages"),t,v=0;v<a.count;v++){var l=v+1;l==k?t=l=b(document.createElement("li")).html('<span class="jPag-current">'+l+"</span>"):l=b(document.createElement("li")).html("<a>"+l+"</a>");q.append(l)}c.append(q);if(a.rotate)var f=a.images?b(document.createElement("span")).addClass(d):b(document.createElement("span")).addClass(d).html("&raquo;");k=b(document.createElement("a")).addClass("jPag-last").html("Last");
var m=b(document.createElement("div")).addClass("jPag-control-front");m.append(f).append(k);$this.addClass("jPaginate").append(h).append(c).append(m);if(a.border)w="none"==a.background_color?{color:a.text_color,border:"1px solid "+a.border_color}:{color:a.text_color,"background-color":a.background_color,border:"1px solid "+a.border_color},x="none"==a.background_hover_color?{color:a.text_hover_color,border:"1px solid "+a.border_hover_color}:{color:a.text_hover_color,"background-color":a.background_hover_color,
border:"1px solid "+a.border_hover_color};else var w="none"==a.background_color?{color:a.text_color}:{color:a.text_color,"background-color":a.background_color},x="none"==a.background_hover_color?{color:a.text_hover_color}:{color:a.text_hover_color,"background-color":a.background_hover_color};b.fn.applystyle(a,$this,w,x,g,q,c,m);var n=r-g.parent().width()-3;"ie7"==u?(c.css("width",n+72+"px"),m.css("left",r+6+72+"px")):(c.css("width",n+"px"),m.css("left",r+6+"px"));a.rotate&&(f.hover(function(){thumbs_scroll_interval=
setInterval(function(){var a=c.scrollLeft()+1;c.scrollLeft(a)},20)},function(){clearInterval(thumbs_scroll_interval)}),e.hover(function(){thumbs_scroll_interval=setInterval(function(){var a=c.scrollLeft()-1;c.scrollLeft(a)},20)},function(){clearInterval(thumbs_scroll_interval)}),"press"==a.mouse?(f.mousedown(function(){thumbs_mouse_interval=setInterval(function(){var a=c.scrollLeft()+5;c.scrollLeft(a)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)}),e.mousedown(function(){thumbs_mouse_interval=
setInterval(function(){var a=c.scrollLeft()-5;c.scrollLeft(a)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)})):(e.click(function(a){a=n-10;a=c.scrollLeft()-a;c.animate({scrollLeft:a+"px"})}),f.click(function(a){a=n-10;a=c.scrollLeft()+a;c.animate({scrollLeft:a+"px"})})));g.click(function(a){c.animate({scrollLeft:"0px"});c.find("li").eq(0).click()});k.click(function(b){c.animate({scrollLeft:p+"px"});c.find("li").eq(a.count-1).click()});c.find("li").click(function(d){t.html("<a>"+t.find(".jPag-current").html()+
"</a>");d=b(this).find("a").html();b(this).html('<span class="jPag-current">'+d+"</span>");t=b(this);b.fn.applystyle(a,b(this).parent().parent().parent(),w,x,g,q,c,m);var e=this.offsetLeft/2;c.scrollLeft();var f=e-n/2;"ie7"==u?c.animate({scrollLeft:e+f-g.parent().width()+52+"px"}):c.animate({scrollLeft:e+f-g.parent().width()+"px"});a.onChange(d)});f=c.find("li").eq(a.start-1);f.attr("id","tmp");e=document.getElementById("tmp").offsetLeft/2;f.removeAttr("id");f=e-n/2;"ie7"==u?c.animate({scrollLeft:e+
f-g.parent().width()+52+"px"}):c.animate({scrollLeft:e+f-g.parent().width()+"px"})};b.fn.applystyle=function(a,d,k,h,g,e,c,q){d.find("a").css(k);d.find("span.jPag-current").css(h);d.find("a").hover(function(){b(this).css(h)},function(){b(this).css(k)});d.css("padding-left",g.parent().width()+5+"px");p=0;d.find("li").each(function(b,c){b==a.display-1&&(r=this.offsetLeft+this.offsetWidth);p+=this.offsetWidth});e.css("width",p+"px")}})(jQuery);