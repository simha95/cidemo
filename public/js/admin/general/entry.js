$(document).ready(function(){$("#login_name").focus();var a=window.location.hash;$("#handle_url").val(a);$("#username").keyup(function(b){""!=$(this).val()?($("#usernameErr").html(""),$("#username").addClass("forgot-valid"),$("#username").removeClass("forgot-err")):($("#usernameErr").html('<div class="err">'+js_lang_label.GENERIC_FORGOT_PASSWORD_USERNAME_ERR+"</div>"),$("#username").removeClass("forgot-valid"),$("#username").addClass("forgot-err"));"13"==b.which&&validateSendForgotPassword()});"yes"==
is_pattern&&($("#secretlogin").change(function(){$("#secretlogin").is(":checked")?($("#passwd-div").pattern("clearPattern",!0),$("#passwd-div").pattern({showPattern:!1})):$("#passwd-div").pattern({showPattern:!0})}),$("#passwd-div").pattern({stop:function(b,c){var a=c.pattern;a.length&&($("#passwd").val(a.join("")),login(document.frmlogin)||$("#passwd-div").pattern("clearPattern",!0))}}),
$("#passwd").css("display","none"));$("#frmlogin").validate({onfocusout:!1,ignore:".ignore-valid, .ignore-show-hide",rules:{login_name:{required:!0},passwd:{required:!0}},messages:{login_name:{required:js_lang_label.GENERIC_LOGIN_USERNAME_ERR},passwd:{required:js_lang_label.GENERIC_LOGIN_PASSWORD_ERR}},errorPlacement:function(b,a){a.attr("name")&&$("#"+a.attr("id")+"Err").html(b)},invalidHandler:function(a,c){c.numberOfInvalids()&&c.errorList[0].element.focus()}})});
function login(a){return $("#frmlogin").valid()?($("#frmlogin").submit(),!0):!1}function hideForgotPassword(){$("#username").val("");$("#forgot_div").hide();$("#login_div").show();$("#login_name").focus()}function showForgotPassword(){$("#login_div").hide();$("#forgot_div").show();$("#username").focus()}
function validateSendForgotPassword(){var a=$("#username").val();""==a?($("#username").removeClass("forgot-valid"),$("#username").addClass("forgot-err"),$("#usernameErr").html('<div class="err">'+js_lang_label.GENERIC_FORGOT_PASSWORD_USERNAME_ERR+"</div>")):($("#username").addClass("forgot-valid"),$("#username").removeClass("forgot-err"),$("#usernameErr").html(""),$("#send_button").hide(),$("#loader_img").show(),$.post(forgot_pwd_url,{username:a},function(a){a=$.parseJSON(a);"1"==a.success&&hideForgotPassword();
$("#send_button").show();$("#loader_img").hide();alert(a.message)}));return!1};