$(function(){$(document).on("click","a[id^='tabanchor']",function(){if($(this).parent("li").hasClass("active")||"1"!=$(this).attr("isdone"))return!1;var a=[],b=$(this).attr("id").split("_"),c=$(this).attr("aria-curr");a.push({curr_tab:c,col:b[1],row:b[2],blk:b[3]});$("#tabcontent_"+b[1]+"_"+b[2]).addClass("hide-overflow").removeClass("show-overflow");getActivateAdminTabContent(a)});$(document).on("click","[aria-chosen-select]",function(){var a=$(this).attr("aria-chosen-select");"select"==$(this).attr("aria-chosen-type")?
($("#"+a).find("option").prop("selected",!0),$("#"+a).trigger("chosen:updated"),$(this).attr("aria-chosen-type","deselect"),$(this).find("span.arrow-image").removeClass("silk-icon-arrow-left").addClass("silk-icon-arrow-right"),$(this).attr("title",js_lang_label.GENERIC_DESELECT_ALL)):($("#"+a).find("option").prop("selected",!1),$("#"+a).trigger("chosen:updated"),$(this).attr("aria-chosen-type","select"),$(this).find("span.arrow-image").removeClass("silk-icon-arrow-right").addClass("silk-icon-arrow-left"),
$(this).attr("title",js_lang_label.GENERIC_SELECT_ALL));setTimeout(function(){$("#"+a).change()},10)});$(document).on("change","[aria-chosen-valid]",function(){$(this).parents("form").length&&$(this).valid()});$(document).on("click",".popup-rel-mod-add",function(a){var b=$(this).attr("aria-relmod"),c=$("#childModuleInc_"+b).val(),d=$("#childModuleParData_"+b).val(),e=$(this).attr("href").split("#"),f=convertHASHToURL(e[1]);e=getHASHToFancyParams(e[1]);c++;f+="&rmNum="+c+"&parID="+(d?d:-1);$("#childModuleInc_"+
b).val(c);openURLFancyBox(f,e);a.preventDefault();return!1});$(document).on("click",".popup-rel-mod-edit",function(a){var b=$(this).attr("aria-relmod"),c=$(this).attr("aria-incno"),d=$("#childModuleParData_"+b).val(),e=$("#childModuleLayout_"+b).val(),f=$(this).attr("href").split("#"),g=convertHASHToURL(f[1]);f=getHASHToFancyParams(f[1]);b=makeChildPopupQueryString(e,b,c);openURLFancyBox(g+("&rmNum="+c+"&parID="+(d?d:-1)+b),f);a.preventDefault();return!1});$(document).on("click",".ctrl-custom-btn",
function(){var a=$(this).attr("aria-btn-name");if(el_form_settings&&$.isPlainObject(el_form_settings.buttons_arr)&&$.isPlainObject(el_form_settings.buttons_arr[a]))return a=el_form_settings.buttons_arr[a],adminCustomButtonAction([$("#id").val()],a.alert,a.confirm,"",el_form_settings.extra_qstr),!1})});function getLoadAdminTab(a,b,c,d){var e=[];e.push({curr_tab:d,col:a,row:b,blk:c});getActivateAdminTabContent(e);return!1}
function getSaveAndLoadAdminTab(a,b,c,d){$("#load_tab_"+a+"_"+b).val(d);$("#tab_id_"+a+"_"+b).val(c);$("#frmaddupdate_"+a+"_"+b).submit();return!1}function getNextAdminTab(a,b,c,d,e){d=[];c=parseInt(c)+1;d.push({type:"load",col:a,row:b,blk:c,curr_tab:e});$("#tabcontent_"+a+"_"+b).addClass("hide-overflow").removeClass("show-overflow");getActivateAdminTabContent(d);return!1}
function getActivateAdminTabContent(a){Project.show_adaxloading_div();var b=a[0].col,c=a[0].row,d=a[0].blk,e=a[0].curr_tab;a=$("#id").val();$("#projmod").val();var f=$("[id^='tabheading_"+b+"_"+c+"'].active"),g=$("[id^='tabheading_"+b+"_"+c+"'].inactive"),h=!0;el_form_settings.tab_before_load_func&&$.isFunction(window[el_form_settings.tab_before_load_func])&&0==window[el_form_settings.tab_before_load_func](e,b,c)&&(h=!1);if(!h)return Project.hide_adaxloading_div(),!1;$.ajax({url:el_form_settings.tab_wise_block_url,
type:"POST",data:{tab_code:e,id:a,col:b,row:c,blk:d},success:function(a){Project.hide_adaxloading_div();$(g).html(a).attr("class","tab-fade active");$(f).attr("class","tab-fade inactive");$("li[id^='headinglist_"+b+"_"+c+"']").removeClass("active");$("li[id='headinglist_"+b+"_"+c+"_"+d+"']").addClass("active");a=$("#tabcontent_"+b+"_"+c).outerHeight();var h=$("#tabcontent_"+b+"_"+c).offset(),k=parseInt(a)+40,t=$($(g)).outerHeight(),r=parseInt(h.top)+parseInt(a);$(g).animate({top:"0px"},500);$(f).animate({top:"-"+
k+"px"},500);var m=$("#tabcontent_"+b+"_"+c);setTimeout(function(){$(m).animate({minHeight:t+"px"},500)},500);setTimeout(function(){$("html,body").animate({scrollTop:0},300);$(f).html("").css("top",r+"px");$(m).addClass("show-overflow").removeClass("hide-overflow");initializeBasicAjaxEvents_1($(g));getTabJSCallEvents($(g),e,b,c);initPreloadCCEvents()},1E3)}})}function adjustTabAnimateHeight(){}
function getTabJSCallEvents(a,b,c,d){"function"==typeof initAdminTabRenderJSScript&&$.isFunction(initAdminTabRenderJSScript)&&initAdminTabRenderJSScript(a);"function"==typeof initAdminTabCustomJSScript&&$.isFunction(initAdminTabCustomJSScript)&&initAdminTabCustomJSScript(a,b,c,d);if(el_form_settings.tab_after_load_func&&$.isFunction(window[el_form_settings.tab_after_load_func]))window[el_form_settings.tab_after_load_func](b,c,d)}
function isContainsCCAnyTrue(a){for(var b=0;b<a.length;b++)if(1==a[b])return!0;return!1}function isContainsCCAllTrue(a){for(var b=0;b<a.length;b++)if(0==a[b])return!1;return!0}
function checkCCEventValues(a){if(!$.isArray(a)||!a)return!1;for(var b={},c,d,e,f,g,h,k,p,q,t,r,m=0;m<a.length;m++)if(a[m].cond_list){c=a[m].cond_type;d=a[m].cond_list;e=a[m].show_list;f=a[m].hide_list;g=[];for(r in d)if(h=isShowHideElement(d[r].id,d[r].type))g.push("false");else if(h=getCCElementValue(d[r].id,d[r].type),k=d[r].value,p=d[r].oper,$.isArray(k)){q=[];for(var l in k)t=(t=getCCMatchStatus(p,k[l],h))?"true":"false",q.push(t);"-1"!=$.inArray("true",q)?g.push("true"):g.push("false")}else t=
(t=getCCMatchStatus(p,k,h))?"true":"false",g.push(t);if($.isArray(g)&&g.length){c="OR"==c?"-1"!=$.inArray("true",g)?!0:!1:"-1"==$.inArray("false",g)?!0:!1;for(var n in e)d=e[n].id,h=e[n].type&&"module"==e[n].type?"module":"field",g="module"==h?"child_module_"+d:"cc_sh_"+d,k=c?"show":"hide",$.isPlainObject(b[g])?"show"==k&&(b[g]={id:g,mode:k,type:h,name:d}):(b[g]={},b[g]={id:g,mode:k,type:h,name:d});for(n in f)d=f[n].id,h=f[n].type&&"module"==f[n].type?"module":"field",g="module"==h?"child_module_"+
d:"cc_sh_"+d,k=c?"hide":"show",$.isPlainObject(b[g])?"hide"==k&&(b[g]={id:g,mode:k,type:h,name:d}):(b[g]={},b[g]={id:g,mode:k,type:h,name:d})}}for(m in b)a=b[m].id,e=b[m].mode,f=b[m].type,r=b[m].name,"hide"==e?($("#"+a).hide(),$("#"+a).find("input,select,textarea").addClass("ignore-show-hide"),"module"==f&&$("#childModuleShowHide_"+r).val("No")):($("#"+a).show(),$("#"+a).find("input,select,textarea").removeClass("ignore-show-hide"),"module"==f&&$("#childModuleShowHide_"+r).val("Yes"))}
function isShowHideElement(a,b){var c="[name='"+a+"']";"multi_select_dropdown"==b&&(c="[name='"+a+"[]']");return $(c).hasClass("ignore-show-hide")&&!$(c).hasClass("ignore-valid")?!0:!1}
function getCCElementValue(a,b){if("radio_buttons"==b){var c=[];$("input[name='"+a+"'][type='hidden']").length?c.push($(this).val()):$("input[name='"+a+"']:checked").each(function(){c.push($(this).val())})}else if("checkboxes"==b)c=[],$("input[name='"+a+"'][type='hidden']").length?c.push($(this).val()):$("input[name='"+a+"[]']:checked").each(function(){c.push($(this).val())});else if("multi_select_dropdown"==b){var d="[name='"+a+"[]']";$("[name='"+a+"[]']").length||(d="[name='"+a+"']");c=$(d).val()}else c=
$("[name='"+a+"']").val();return c}
function getCCMatchStatus(a,b,c){switch(a){case "nu":a=""==c||null==c||void 0==c?!0:!1;break;case "nn":a=""!=c&&null!=c&&void 0!=c?!0:!1;break;case "in":$.isArray(c)?a="-1"!=$.inArray(b,c)?!0:!1:(b=$.isArray(b)?[]:b.split(","),a="-1"!=$.inArray(c,b)?!0:!1);break;case "ni":$.isArray(c)?a="-1"==$.inArray(b,c)?!0:!1:(b=$.isArray(b)?[]:b.split(","),a="-1"==$.inArray(c,b)?!0:!1);break;case "gt":a=$.isArray(c)?c[0]>b?!0:!1:c>b?!0:!1;break;case "ge":a=$.isArray(c)?c[0]>=b?!0:!1:c>=b?!0:!1;break;case "lt":a=
$.isArray(c)?c[0]<b?!0:!1:c<b?!0:!1;break;case "le":a=$.isArray(c)?c[0]<=b?!0:!1:c<=b?!0:!1;break;case "ne":a=$.isArray(c)?"-1"==$.inArray(b,c)?!0:!1:c!=b?!0:!1;break;default:a=$.isArray(c)?"-1"!=$.inArray(b,c)?!0:!1:c==b?!0:!1}return a}
function deleteInlineFileDocs(a){jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){var b=!1;if($("#"+a).closest(".upload-multi-file").length){var c=$("#"+a).closest(".upload-multi-file");b=!0}$("#"+a).remove();if(b&&!c.find(".row-upload-file").length&&"true"==c.attr("aria-required")){b=c.attr("aria-module");var d=c.attr("aria-field");c.append('<input type="hidden" value="" name="child['+
b+"]["+d+'][0]" id="child_'+b+"_"+d+'_0" class="_upload_req_file"/>')}$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]})}
function deleteFileTypeDocs(a,b,c,d,e,f,g){jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){$.ajax({url:admin_url+c+"?"+el_form_settings.extra_qstr,type:"POST",data:{id:a,lang_id:f,folder:d,file:g,unique_name:b},success:function(a){a=$.parseJSON(a);if(1==a.success){if(b==e)var c="old_"+e;else{c=e.split(b);var d=c.pop();c.push("old_"+b);c.push(d);
c=c.join("")}$("#anc_imgview_"+e).remove();$("#anc_imgdel_"+e).remove();$("#"+c).val("");$("#"+e).val("");if($("#img_buttons_"+e).closest(".row-upload-file").length){c=!1;if($("#img_buttons_"+e).closest(".row-upload-file").closest(".upload-multi-file").length){var f=$("#img_buttons_"+e).closest(".row-upload-file").closest(".upload-multi-file");c=!0}$("#img_buttons_"+e).closest(".row-upload-file").remove();c&&!f.find(".row-upload-file").length&&"true"==f.attr("aria-required")&&(c=f.attr("aria-module"),
d=f.attr("aria-field"),f.append('<input type="hidden" value="" name="child['+c+"]["+d+'][0]" id="child_'+c+"_"+d+'_0" class="_upload_req_file"/>'))}f=1;a=""!=a.message?a.message:js_lang_label.ACTION_FILE_DELETED_SUCCESSFULLY_C46_C46_C33}else f=0,a=""!=a.message?a.message:js_lang_label.GENERIC_ERROR_IN_FILE_DELETION;Project.setMessage(a,f,300)}});$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]})}
function deleteAdminRecordData(a,b,c,d,e){jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS_RECORD,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){$.ajax({url:admin_url+c+"?"+d,type:"POST",data:{id:a,oper:"del"},success:function(a){a=$.parseJSON(a);if("true"==a.success){var c=1;var d=""!=a.message?a.message:js_lang_label.GENERIC_RECORD_DELETED_SUCCESSFULLY}else c=0,d=""!=a.message?a.message:
js_lang_label.GENERIC_ERROR_IN_DELETION_OF_RECORD;Project.setMessage(d,c,300);"true"==a.success&&(allowCloseFancyBox()?parent.$.fancybox.close():loadAdminModuleListing(b,e))}});$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]});return!1}
function callGoogleMapEvents(){if(!$.isArray(google_map_json)||!google_map_json.length)return!1;var a=el_tpl_settings.google_maps_key,b;a&&(b="&key="+a);"object"==typeof google?loadGoogleMapEvents():$.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:"sensor=false&libraries=places"+b,callback:function(){loadGoogleMapEvents()}})})}
function loadGoogleMapEvents(){if($.isArray(google_map_json)&&google_map_json.length)for(var a in google_map_json)if(google_map_json[a]&&google_map_json[a].name){var b=google_map_json[a].name;initializeGoogleMap(b,$("#"+b),google_map_json[a].lat,google_map_json[a].lng,google_map_json[a].zoom,google_map_json[a].load)}}function initializeGoogleMap(a,b,c,d,e,f){"object"==typeof google?activateGoogleMap(a,b,c,d,e,f):addGoogleMapsObject(a,b,c,d,e,f)}
function addGoogleMapsObject(a,b,c,d,e,f){var g=el_tpl_settings.google_maps_key,h;g&&(h="&key="+g);$.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:"sensor=false&libraries=places"+h,callback:function(){activateGoogleMap(a,b,c,d,e,f)}})})}
function activateGoogleMap(a,b,c,d,e,f){if($.isEmptyObject(google))return!1;geocoderMap=new google.maps.Geocoder;if($("#map_canvas_"+a).length&&$("#"+a).length){var g=function(b){var c=0;"localStorage"==b?(b=localStorage.getItem(el_tpl_settings.enc_usr_var+"_"+el_form_settings.module_name+"_"+a),(b=$.parseJSON(b))&&b.zoom&&(c=b.zoom)):$("#"+b).length&&(c=$("#"+b).val());1<=c&&21>=c?n.setZoom(c):n.setZoom(17)},h=function(a){"object"==typeof geocoderMap&&""!=a&&(r=!0,m=a,geocoderMap.geocode(a,function(a,
b){"OK"==b&&(x.set("place",{geometry:{location:a[0].geometry.location}}),n.panTo(v.getPosition()))}))},k=function(b){"object"==typeof geocoderMap&&""!=b&&geocoderMap.geocode(b,function(b,c){"OK"==c&&("Yes"!=f&&""!=$("#gmf_autocomplete_"+a).val()||$("#gmf_autocomplete_"+a).val(b[0].formatted_address),x.set("place",{geometry:{location:b[0].geometry.location}}),n.panTo(v.getPosition()))})},p=function(a,b){var c=document.getElementById(a);google.maps.event.addDomListener(c,"click",function(){x.setTypes(b)})},
q=function(e){geocoderMap.geocode({latLng:e},function(e,f){f==google.maps.GeocoderStatus.OK&&($(b).val(e[0].formatted_address),$("#gmf_autocomplete_"+a).val(e[0].formatted_address),$("#gmf_addr_label_"+a).html(e[0].formatted_address),$("div#show_lat_lng_"+a).length&&e[0].geometry.location&&$("div#show_lat_lng_"+a).html(" Lat / Lng : "+e[0].geometry.location.lat()+" , "+e[0].geometry.location.lng()),""!=c&&$("#"+c).length&&$("#"+c).val(e[0].geometry.location.lat()),""!=d&&$("#"+d).length&&$("#"+d).val(e[0].geometry.location.lng()))})},
t=!0,r=!1,m={},l={center:new google.maps.LatLng(-33.8688,151.2195),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE}},n=new google.maps.Map(document.getElementById("map_canvas_"+a),l);l=document.getElementById("gmf_autocomplete_"+a);var x=new google.maps.places.Autocomplete(l);x.bindTo("bounds",n);new google.maps.InfoWindow;l=new google.maps.MarkerImage(admin_image_url+
"marker.png",new google.maps.Size(50,50),new google.maps.Point(0,0),new google.maps.Point(50/6,31.25));var v=new google.maps.Marker({map:n,draggable:!0,icon:l,animation:google.maps.Animation.DROP});google.maps.event.addListener(v,"dragend",function(){q(v.getPosition());n.panTo(v.getPosition())});google.maps.event.addListener(x,"place_changed",function(){var f=x.getPlace();if(f.geometry)if(r){v.setPosition(m.latLng);f.geometry.viewport?n.fitBounds(f.geometry.viewport):(n.setCenter(f.geometry.location),
g(e));var h=$("#gmf_autocomplete_"+a).val();$(b).val(h);$("#gmf_addr_label_"+a).html(h);$("div#show_lat_lng_"+a).length&&f.geometry.location&&$("div#show_lat_lng_"+a).html(" Lat / Lng : "+m.latLng.lat()+" , "+m.latLng.lng());r=t=!1}else v.setPosition(f.geometry.location),f.geometry.viewport?n.fitBounds(f.geometry.viewport):(n.setCenter(f.geometry.location),t?(g(e),t=!1):n.setZoom(17)),h=$("#gmf_autocomplete_"+a).val(),$(b).val(h),$("#gmf_addr_label_"+a).html(h),$("div#show_lat_lng_"+a).length&&f.geometry.location&&
$("div#show_lat_lng_"+a).html(" Lat / Lng : "+f.geometry.location.lat()+" , "+f.geometry.location.lng()),""!=c&&$("#"+c).length&&$("#"+c).val(f.geometry.location.lat()),""!=d&&$("#"+d).length&&$("#"+d).val(f.geometry.location.lng())});google.maps.event.addListener(n,"zoom_changed",function(b){"localStorage"==e?localStorage.setItem(el_tpl_settings.enc_usr_var+"_"+el_form_settings.module_name+"_"+a,JSON.stringify({zoom:n.zoom})):$("#"+e).length&&$("#"+e).val(n.zoom)});l="";l={};"object"==typeof inline_settings_arr&&
inline_settings_arr?(l=$.trim($("#"+a).text()),l="Empty"!==l?l:""):l=$.trim($("#"+a).val());if("Yes"==f&&$("#"+c).length&&$("#"+d).length){l=$("#"+c).val();var u=$("#"+d).val();$.isNumeric(l)&&$.isNumeric(u)&&(l={latLng:new google.maps.LatLng(l,u)},h(l));$("#"+c+", #"+d).off("input");$("#"+c+", #"+d).on("input",function(){k({latLng:new google.maps.LatLng($("#"+c).val(),$("#"+d).val())})})}else""!=l&&(l={address:l},k(l));$("#gmf_autocomplete_"+a).on("input",function(){$(b).val($(this).val());$("#gmf_addr_label_"+
a).html($(this).val())});p(a+"-changetype-all",[]);p(a+"-changetype-establishment",["establishment"]);p(a+"-changetype-geocode",["geocode"])}}
function getChildModuleAjaxTable(a,b,c){var d=$("#childModuleParData_"+b).val(),e=$("#childModuleLayout_"+b).val(),f=$("#childModuleInc_"+b).val(),g=!0;el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_before_add&&$.isFunction(window[el_form_settings.callbacks.child_rec_before_add])&&0==window[el_form_settings.callbacks.child_rec_before_add](b,f)&&(g=!1);if(!g)return!1;f++;$("#childModuleInc_"+b).val(f);$("#ajax_loader_childModule_"+b).show();$.ajax({url:admin_url+a+"?"+el_form_settings.extra_qstr,
type:"POST",data:{mode:cus_enc_mode_json[c],child_module:b,incNo:f,parID:d},success:function(a){$("#ajax_loader_childModule_"+b).hide();"Row"==e?($("#tbl_child_module_"+b).find("[id='add_child_module_"+b+"']").prepend(a),initializeBasicAjaxEvents_1($("#div_child_row_"+b+"_"+f))):($("#tbl_child_module_"+b).find("[id='add_child_module_"+b+"']").find(".ch-mod-firstrow").after(a),initializeBasicAjaxEvents_1($("#tr_child_row_"+b+"_"+f)));getChildJSCallEvents("add",b,f);calcChildTotalEntries(b,e)}});return!1}
function getChildJSCallEvents(a,b,c,d){if("undefined"==typeof initChildRenderJSScript)return!1;$.isFunction(initChildRenderJSScript)&&initChildRenderJSScript();if("add"==a){if(el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_after_add&&$.isFunction(window[el_form_settings.callbacks.child_rec_after_add]))window[el_form_settings.callbacks.child_rec_after_add](b,c)}else if("save"==a&&el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_after_save&&$.isFunction(window[el_form_settings.callbacks.child_rec_after_save]))window[el_form_settings.callbacks.child_rec_after_save](b,
c,d)}
function appendChildModuleContent(a){var b=a.child_module,c=a.rmNum;a=a.rmContent;var d=$("#childModuleLayout_"+b).val();"Row"==d?($("[id='div_child_row_"+b+"_"+c+"']").length?$("[id='div_child_row_"+b+"_"+c+"']").replaceWith(a):$("#tbl_child_module_"+b).find("[id='add_child_module_"+b+"']").prepend(a),initializeBasicAjaxEvents_1($("#div_child_row_"+b+"_"+c))):($("[id='tr_child_row_"+b+"_"+c+"']").length?$("[id='tr_child_row_"+b+"_"+c+"']").replaceWith(a):$("#tbl_child_module_"+b).find("[id='add_child_module_"+b+
"']").find(".ch-mod-firstrow").after(a),initializeBasicAjaxEvents_1($("#tr_child_row_"+b+"_"+c)));calcChildTotalEntries(b,d)}
function populateRelationModuleData(a,b,c){if(!a||!b||!c)return!1;var d=["dropdown","multi_select_dropdown","autocomplete","file"],e;for(e in b){var f=b[e].name;var g=b[e].type;var h=parent.$("#child_"+a+"_"+f+"_"+c).val();if(""!=$.trim(h)&&"-1"==$.inArray(g,d))if($("#"+f).is("select"))g=$.isArray(h)?h:h.split(","),$("#"+f).val(g);else if($("[id^='"+f+"']").is("input")&&"radio"==$("[id^='"+f+"']").attr("type"))h=$.trim(h),$("#"+f+"_"+h).prop("checked",!0);else if($("[id^='"+f+"']").is("input")&&"checkbox"==
$("[id^='"+f+"']").attr("type")){g=$.isArray(h)?h:h.split(",");for(var k=0;k<g.length;k++)h=$.trim(g),$("#"+f+"_"+h).prop("checked",!0)}else $("#"+f).val(h)}}function makeChildPopupQueryString(a,b,c){var d="";a="Row"==a?$("#div_child_row_"+b+"_"+c):$("#tr_child_row_"+b+"_"+c);$(a).find("[aria-popup-data='Yes']").each(function(){var a=$(this).attr("aria-unique-name");d+="&"+a+"="+$(this).val()});return d}function setChildModuleHeight(a){}
function deleteChildModuleRow(a,b,c){var d=$("#childModuleLayout_"+b).val();jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS_ROW,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){"Row"==d?$("#div_child_row_"+b+"_"+c).remove():$("#tr_child_row_"+b+"_"+c).remove();calcChildTotalEntries(b,d);$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]});
return!1}
function saveChildModuleSingleData(a,b,c,d,e,f,g,h){var k=$("#childModuleParData_"+c).val(),p=$("#childModuleLayout_"+c).val(),q=!0;if(child_rules_arr&&child_rules_arr[c]){var t=child_rules_arr[c];for(var r in t){var m="child_"+c+"_"+r+"_"+e;var l=$("[id^='"+m+"']:first");if("-1"!=$.inArray($(l).attr("type"),["checkbox","radio"])){var n=$(l).attr("name");l=$("[name='"+n+"']:checked").val();n=$("[name='"+n+"']").length}else l=$("#"+m).val(),n=$("#"+m).length;var x=$("#"+m).hasClass("ignore-valid");var v=
$("#"+m).is("hidden");!n||x||v||(l=validateViewInlineEdit(m,l,t[r]),!1===l?$("#"+m+"Err").html(""):(q&&$("#"+m).focus(),q=!1,$("#"+m+"Err").html(l)))}}if(!q)return!1;q=!0;el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_before_save&&$.isFunction(window[el_form_settings.callbacks.child_rec_before_save])&&0==window[el_form_settings.callbacks.child_rec_before_save](c,e,f)&&(q=!1);if(!q)return!1;a=a+"?mode="+cus_enc_mode_json[d]+"&parID="+k+"&child_module="+c+"&index="+e+"&id="+f;var u,
y="",z="";d={url:a,beforeSubmit:showAdminAjaxRequest,success:function(a,d,q,m){Project.hide_adaxloading_div();u=$.parseJSON(a);u.success?(y=1,z=""!=u.message?u.message:js_lang_label.GENERIC_RECORD_SAVED_SUCCESSFULLY,$.ajax({url:b,type:"POST",data:{mode:cus_enc_mode_json[h],child_module:c,incNo:e,parID:k,recMode:"Update",rmPopup:g,id:u.id},success:function(a){$("#"+w).replaceWith(a);"Row"==p?initializeBasicAjaxEvents_1($("#div_child_row_"+c+"_"+e)):($("#tr_child_row_"+c+"_"+e).show(),initializeBasicAjaxEvents_1($("#tr_child_row_"+
c+"_"+e)));getChildJSCallEvents("save",c,e,f);calcChildTotalEntries(c,p)}})):(y=0,z=""!=u.message?u.message:js_lang_label.GENERIC_ERROR_IN_DELETION_OF_RECORD,"Row"==p?$("#"+w).replaceWith($("#div_child_row_"+c+"_"+e)):($("#"+w).replaceWith($("#tr_child_row_"+c+"_"+e)),$("#tr_child_row_"+c+"_"+e).show()));Project.setMessage(z,y)}};var w="frmchild_module_save_"+c;"Row"==p?$("#div_child_row_"+c+"_"+e).wrap("<form name='"+w+"' id='"+w+"' action='"+a+"' method='post'  enctype='multipart/form-data'>"):
($("#tr_child_row_"+c+"_"+e).hide(),$("#tr_child_row_"+c+"_"+e).wrap("<form name='"+w+"' id='"+w+"' action='"+a+"' method='post'  enctype='multipart/form-data'>"));$("#"+w).ajaxSubmit(d);return!1}
function deleteChildModuleSingleData(a,b,c,d){var e=$("#childModuleLayout_"+b).val(),f=!0;el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_before_delete&&$.isFunction(window[el_form_settings.callbacks.child_rec_before_delete])&&0==window[el_form_settings.callbacks.child_rec_before_delete](b,c,d)&&(f=!1);if(!f)return!1;jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS_RECORD_FROM_DATABASE,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,
bt_type:"delete",click:function(){$.ajax({type:"POST",url:admin_url+a+"?"+el_form_settings.extra_qstr,data:{child_module:b,id:d,oper:"del"},success:function(a){a=$.parseJSON(a);if("1"==a.success){var f=1;var g=""!=a.message?a.message:js_lang_label.GENERIC_RECORD_DELETED_SUCCESSFULLY;"Row"==e?$("#div_child_row_"+b+"_"+c).remove():$("#tr_child_row_"+b+"_"+c).remove();calcChildTotalEntries(b,e)}else f=0,g=""!=a.message?a.message:js_lang_label.GENERIC_ERROR_IN_DELETION_OF_RECORD;Project.setMessage(g,
f);if(el_form_settings.callbacks&&el_form_settings.callbacks.child_rec_after_delete&&$.isFunction(window[el_form_settings.callbacks.child_rec_after_delete]))window[el_form_settings.callbacks.child_rec_after_delete](b,c,d,a)}});$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]});return!1}
function calcChildTotalEntries(a,b){if("Row"==b){var c=$("div[id='tbl_child_module_"+a+"'] div[id^='div_child_row_"+a+"_']").length;$("#childModuleCount_"+a).val(c);$("div[id='tbl_child_module_"+a+"'] div[id^='div_child_row_"+a+"_']:first").each(function(a){})}else c=$("table[id='tbl_child_module_"+a+"'] tr[id^='tr_child_row_"+a+"_']").length,$("#childModuleCount_"+a).val(c),$("table[id='tbl_child_module_"+a+"'] tr[id^='tr_child_row_"+a+"_']").each(function(a){a=parseInt(a)+1;$(this).find("[class='row-num-span']").html(a)})}
function placeErrorMessage(a,b,c){$("#"+b+"Err").html(c)}
function adminAjaxChangeEventData(a,b,c,d,e,f,g,h){a=$(a).val();$("#"+b+"_chosen").length?$("#"+b+"_chosen").hide():$("#"+b).hide();$("#ajax_loader_"+b).show();d={"parent_src[]":a,unique_name:d,mode:cus_enc_mode_json[e],id:g};$.isPlainObject(h)&&(d=$.extend(h,d));$.ajax({url:admin_url+c,type:"POST",data:d,success:function(a){$("#ajax_loader_"+b).hide();$("#"+b+"_chosen").length?$("#"+b+"_chosen").show():$("#"+b).show();a=$.parseJSON(a);var c=$("#"+b).val();1==a.status&&($("#"+b).html(a.content),$("#"+
b).val(c),$("#"+b).trigger("chosen:updated").trigger("change"))}})}
function displayAdminOntheFlyImage(a,b){if(b.fileURL){var c=$("<a />");$(c).attr("id","anc_imgview_"+a).attr("href",b.fileURL).addClass("fancybox-image").html("<img src='"+b.fileURL+"' alt='Image' width='"+b.width+"' height='"+b.height+"'/>");$("#img_view_"+a).html(c);initializeFancyBoxEvents($("#img_view_"+a))}else if(b.success){var d="fa-file-text-o";b.iconclass&&(d=b.iconclass);c=$("<a />");$(c).attr("id","anc_imgview_"+a).attr("href","javascript://").html("<i class='fa "+d+" fa-3x'></i>");$("#img_view_"+
a).html(c);c=$("<div />");$(c).attr("title",b.iconfile).addClass("tip").html("<i class='icon18 minia-icon-eye icon-red no-margin'></i>");$("#img_hover_"+a).html(c).addClass("view-mode");initializeTooltipsEvents($("#img_hover_"+a))}!$("#anc_imgdel_"+a).length&&$("#img_del_"+a).length&&(c=$("<a />"),$(c).attr("id","anc_imgdel_"+a).attr("href","javascript://").attr("title","Delete").attr("onclick",'deleteAdminOntheFlyImage("'+a+'")').html("<i class='icon16 entypo-icon-close icon-red no-margin'></i>"),
$("#img_del_"+a).html(c))}
function deleteAdminOntheFlyImage(a){jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){$("#img_view_"+a).html("<span><img src='"+el_tpl_settings.noimage_url+"' width='50' height='50'></span>");$("#img_del_"+a).html("");$("#preview_"+a).html(js_lang_label.GENERIC_UPLOAD_FILE);$("#"+a).val("");$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",
click:function(){$(this).remove()}}]})}
function addAdminOntheFlyImage(a,b,c){var d=$("#upload_multi_file_"+a).find("[id^='upload_row_"+a+"']:last"),e="0",f,g="";d&&0<d.length&&d.attr("id")&&(e=d.attr("id").split("upload_row_"+a+"_")[1],e++);d="upload_row_"+a+"_"+e;var h='<input type="hidden" value="'+c.oldfile+'" name="child['+a+"][old_"+b+'][]" id="child_'+a+"_old_"+b+"_"+e+'" /> <input type="hidden" value="'+c.uploadfile+'" name="child['+a+"]["+b+'][]" id="child_'+a+"_"+b+"_"+e+'" class="ignore-valid"/>';if(c.fileURL)var k=$("<a />").attr("id",
"anc_imgview_child_"+a+"_"+b+"_"+e).attr("href",c.fileURL).addClass("fancybox-image").html("<img src='"+c.fileURL+"' alt='Image' width='"+c.width+"' height='"+c.height+"'/>");else g="fa-file-text-o",c.iconclass&&(g=c.iconclass),k=$("<a />").attr("id","anc_imgview_child_"+a+"_"+b+"_"+e).attr("href","javascript://").html("<i class='fa "+g+" fa-3x'></i>"),g=$("<div />"),$(g).attr("title",c.iconfile).addClass("tip").html("<i class='icon18 minia-icon-eye icon-red no-margin'></i>");c=$("<a />").attr("id",
"anc_imgdel_child_"+a+"_"+b+"_"+e).attr("href","javascript://").attr("title",js_lang_label.GENERIC_DELETE).attr("hijacked","yes").attr("onclick","deleteInlineFileDocs('upload_row_"+a+"_"+e+"')").html("<i class='icon16 entypo-icon-close icon-red no-margin'></i>");k=$("<div />").attr("id","img_view_child_"+a+"_"+b+"_"+e).addClass("img-view-section").append(k);c=$("<div />").attr("id","img_del_child_"+a+"_"+b+"_"+e).addClass("img-del-section").append(c);""!=g&&(f=$("<div />").attr("id","img_hover_child_"+
a+"_"+b+"_"+e).addClass("img-hover-section view-mode").append(g));c=$("<div />").attr("id","img_buttons_child_"+a+"_"+b+"_"+e).addClass("img-inline-display").append($(k)).append($(c));""!=g&&c.append(f).addClass("file-inline-display");f=$(c)[0].outerHTML;d='<div class="row-upload-file" id="'+d+'">'+h+""+f+"<div>";$("#upload_multi_file_"+a).append(d);initializeFancyBoxEvents($("#img_view_child_"+a+"_"+b+"_"+e));initializeTooltipsEvents($("#img_hover_child_"+a+"_"+b+"_"+e));$("#upload_multi_file_"+
a).find("._upload_req_file").length&&$("#upload_multi_file_"+a).find("._upload_req_file").remove()}
function adminShowHidePasswordField(a){$("#"+a).prop("type","text");$("#span_password_"+a).removeClass("iconic-icon-lock-fill").addClass("iconic-icon-unlock-fill");$("#a_password_"+a).attr("title","Password displayed");setTimeout(function(){$("#"+a).prop("type","password");$("#span_password_"+a).removeClass("iconic-icon-unlock-fill").addClass("iconic-icon-lock-fill");$("#a_password_"+a).attr("title","Click this to show password")},5E3)}
function showAdminLanguageArea(a,b,c,d){"single"==b?($("[id^=lnsh_"+c+"]").slideUp(100),$("#lnsh_"+c+"_"+d).slideDown(200)):"all"==b&&("hide"==$(a).attr("aria-display")?($("[id^=lnsh_"+c+"]").slideDown(200),$(a).attr("aria-display","show"),$(a).attr("title",js_lang_label.GENERIC_HIDE_ALL),$(a).find("span").removeClass("cut-icon-expand").addClass("cut-icon-shrink")):($("[id^=lnsh_"+c+"]").slideUp(100),$(a).attr("aria-display","hide"),$(a).attr("title",js_lang_label.GENERIC_SHOW_ALL),$(a).find("span").removeClass("cut-icon-shrink").addClass("cut-icon-expand")));
return!1}function adjustTabHeightOnFly(a,b){}
function multilingualEditorContent(a,b){var c=el_form_settings.prime_lang_code,d=$.parseJSON(el_form_settings.other_lang_JSON);if(!c||!d)return!1;if(!el_tpl_settings.multi_lingual_trans)return Project.setMessage(js_lang_label.GENERIC_LANGUAGE_TRANSLATION_IS_TURNED_OFF,2,200),!1;var e=b.id;""!=$.trim(a)&&(showhide_inline_loading($("#"+e),"show"),$.ajax({url:admin_url+cus_enc_url_json.general_language_conversion,type:"POST",data:{text:a,src:c,"dest[]":d},success:function(a){showhide_inline_loading($("#"+
e),"hide");if(a=$.parseJSON(a))for(var b in a)a[b]&&$("#lang_"+e+"_"+b).val(a[b])}}))}
function intializeLanguageAutoEntry(a,b){var c=$.parseJSON(b);if(!a||!c)return!1;if(!el_tpl_settings.multi_lingual_trans)return Project.setMessage(js_lang_label.GENERIC_LANGUAGE_TRANSLATION_IS_TURNED_OFF,2,200),!1;$(document).off("change","[aria-multi-lingual='parent']");$(document).off("focus","[aria-multi-lingual='parent']");$(document).off("blur","[aria-multi-lingual='parent']");$(document).on("change","[aria-multi-lingual='parent']",function(){var b=$(this),e=b.val(),f=b.attr("aria-lang-parent")?
b.attr("aria-lang-parent"):b.attr("id");""!=$.trim(e)&&(showhide_inline_loading(b,"show"),$.ajax({url:admin_url+cus_enc_url_json.general_language_conversion,type:"POST",data:{text:e,src:a,"dest[]":c},success:function(a){showhide_inline_loading(b,"hide");if(a=$.parseJSON(a))for(var c in a)a[c]&&$("#lang_"+f+"_"+c).val(a[c])}}));$(this).attr("aria-multi-call","1")}).on("focus","[aria-multi-lingual='parent']",function(){$(this).attr("aria-multi-call","0")}).on("blur","[aria-multi-lingual='parent']",
function(){if("0"==$(this).attr("aria-multi-call")){var a=$(this).attr("aria-lang-parent")?$(this).attr("aria-lang-parent"):$(this).attr("id"),b=!1;$("[id^='lang_"+a+"']").each(function(){if(""==$(this).val())return b=!0,!1});b&&$(this).trigger("change")}})}
function showhide_inline_loading(a,b){if("show"==b){var c=$(a).offset(),d=c.left;c=c.top;var e=$(a).width();d=25+parseInt(e)+parseInt(d);c=4+parseInt(c);$("#ajax_lang_loader").css({top:c+"px",left:d+"px"}).show()}else $("#ajax_lang_loader").hide()}
function saveFormInlineEditble(a,b,c,d){c={name:a,value:b,id:c};var e=inline_settings_arr[a];"object"==typeof d&&(c=$.extend({},c,d));d={url:el_form_settings.jajax_action_url,data:c,success:function(c,d){var f=$.parseJSON(c);if(f&&"false"==f.success){var g=js_lang_label.GENERIC_ERROR_IN_UPDATION;""!=f.message&&(g=f.message);$("#"+a).editable("option","value",$("#"+a).attr("aria-prev-value"));$("#"+a).editable("show");gridReportMessage(!1,g)}else if("3"==f.success||"4"==f.success)isRedirectEqualHash(f.red_hash)?
(window.location.hash=f.red_hash,window.location.reload()):window.location.hash=f.red_hash;else if("5"==f.success)window.location.href=f.red_hash;else switch(e.type){case "wysiwyg":case "code_markup_field":$("#"+a).html(b);break;case "multi_select_dropdown":case "checkboxes":$("#"+a).html($("#"+a).attr("data-value"));break;case "autocomplete":f=e.editevents.token.params;0<token_pre_populates[a].length&&$("#"+a).html($("#"+a).attr("data-value"));f.prePopulate=token_pre_populates[a];break;case "password":$("#"+
a).html("*****");break;case "file":inline_settings_arr[a].dbval=b;break;case "rating_master":$("#rshow_"+e.name).raty("set",{score:b});$("#rscore_"+e.name).text(b);$("#"+e.name).html('<span class="icon16 icomoon-icon-pencil-5"><b>'+js_lang_label.GENERIC_EDIT+"</b></span>");break;case "google_maps":inline_settings_arr[a].value=b;$("#"+a).attr("aria-prev-value",b);break;default:$("#"+a).attr("aria-prev-value",b)}}};$("#"+a).editable("submit",d)}
function addElementProperties(a,b){if(b)for(var c in b)$(a).attr(c,b[c])}function assignEventParams(a){var b={};if(a)for(var c in a)b[c]="true"==a[c]?!0:"false"==a[c]?!1:a[c];return b}
function makeEditableDropdown(a){if(inline_settings_arr[a].editoptions&&inline_settings_arr[a].editoptions.dataUrl){var b=inline_settings_arr[a].value;$("#"+a).attr("data-value",b);b=inline_settings_arr[a].editoptions.dataUrl;$("#"+a).editable({showbuttons:!0,type:"select",source:b,pk:el_form_settings.form_edit_id,sourceCache:!1,validate:function(a){var b=$(this).attr("id");return validateViewInlineEdit(b,a,inline_settings_arr[b])},url:function(a){saveFormInlineEditble(a.name,a.value,a.id)}});$("#"+
a).on("shown",function(b,d){var c=$(d.$form).find(".editable-input").find("select");$(d.$form).find(".editable-input").append(inline_settings_arr[a].add_content);var f=$(d.$form).find(".fancybox-hash-iframe").attr("href");$(c).find("option").removeAttr("selected");var g=$(this).attr("id"),h=$(this).attr("data-value"),k=inline_settings_arr[g],p=k.editattr;switch(k.type){case "checkboxes":$(c).attr("multiple",!0);break;case "multi_select_dropdown":$(c).attr("multiple",!0)}addElementProperties($(c),
p);c=$(d.$form).find(".editable-input").find("select");if("checkboxes"==k.type||"multi_select_dropdown"==k.type){var q=[];$.each(h.split(","),function(){q.push($.trim(this))});$(c).find("option").each(function(){-1!=$.inArray($.trim($(this).text()),q)&&$(this).prop("selected",!0)})}else $(c).find("option").each(function(){if($.trim($(this).text())==$.trim(h))return $(this).prop("selected",!0),!1});setTimeout(function(){$(c).chosen({allow_single_deselect:!0});$(d.$form).find(".fancybox-hash-iframe").attr("href",
f+"|rfhtmlID|"+$(c).attr("id"));$("#"+$(c).attr("id")+"_chosen").trigger("mousedown");$("#"+$(c).attr("id")+"_chosen").find("input[type='text']").focus();if("ajax-call"==k.editoptions.ajaxCall){var a=el_grid_settings.ajax_data_url+("&mode="+cus_enc_mode_json.Update+"&&unique_name="+k.editoptions.rel+"&id="+el_form_settings.form_edit_id);$(c).ajaxChosen({dataType:"json",type:"POST",url:a},{loadingImg:admin_image_url+"chosen-loading.gif"})}},5);$(c).change(function(){if("checkboxes"==k.type||"multi_select_dropdown"==
k.type){var a=[];$(this).find("option:selected").each(function(){a.push($(this).text())});a&&0<a.length?$("#"+g).attr("data-value",a.join(",")):$("#"+g).attr("data-value","")}else $("#"+g).attr("data-value",$(this).find("option:selected").val())})})}}
function makeEditableTextArea(a){if(inline_settings_arr[a]){var b=inline_settings_arr[a].value;$("#"+a).editable({showbuttons:!0,type:"textarea",name:a,placeholder:inline_settings_arr[a].place_holder,value:b,pk:el_form_settings.form_edit_id,onblur:"submit",rows:3,validate:function(a){var b=$(this).attr("id");return validateViewInlineEdit(b,a,inline_settings_arr[b])},url:function(a){saveFormInlineEditble(a.name,a.value,a.id)}});$("#"+a).on("shown",function(a,b){var c=$(this).attr("id"),d=$(b.$form).find(".editable-input").find("textarea");
c=inline_settings_arr[c];var g=c.editattr;switch(c.type){case "textarea":addElementProperties($(d),g);appendTextAreaProperties(d,c);applyInputTextCase($(b.$form).find(".editable-input"));break;case "code_markup_field":appendCodeMarkupProperties(d,c);break;case "google_maps":appendGoogleMapsProperties(d,c);break;case "wysiwyg":appendEditorProperties(d,c)}})}}
function appendEditorProperties(a,b){if(b){var c=b.editevents;if(c.tinymce){var d=assignEventParams(c.tinymce.params),e={};e="advanced"==c.tinymce.toolbar?{plugins:tinymce_editor_plugins,toolbar:tinymce_editor_tollbar}:"premium"==c.tinymce.toolbar?{plugins:tinymce_editor_plugins_premium,toolbar:tinymce_editor_tollbar_premium,external_plugins:{filemanager:el_tpl_settings.js_libraries_url+"filemanager/plugin.min.js"}}:{plugins:tinymce_editor_plugins_basic,toolbar:tinymce_editor_tollbar_basic};c=$.extend({},
d,e,{templates:tinymce_editor_templates,setup:function(a){a.on("change",function(a){tinyMCE.triggerSave()})}});tinyMCE.baseURL=el_tpl_settings.editor_js_url;$(a).tinymce(c)}}}
function appendGoogleMapsProperties(a,b){if(b){var c=b.name,d=b.label,e=b.editevents,f=b.value,g=b.editattr;if(e.maps){$(a).hide();var h="<div><div class='frm-gmf-address-label'>"+("<span id='gmf_addr_label_"+c+"'>"+f+"</span>")+"</div>"+("<span "+g+">");h=h+("<textarea class='frm-gmf-address elastic' name='gmf_autocomplete_"+c+"' id='gmf_autocomplete_"+c+"' title='"+d+"'>"+f+"</textarea>")+"</span></div>";h+="<div class='frm-gmf-options'>";h+="<input type='radio' name='type' id='"+c+"-changetype-all' checked='checked'>";
h+="<label for='"+c+"-changetype-all'>"+js_lang_label.GENERIC_ALL+"</label>&nbsp;&nbsp;";h+="<input type='radio' name='type' id='"+c+"-changetype-establishment'>";h+="<label for='"+c+"-changetype-establishment'>"+js_lang_label.GENERIC_ESTABLISHMENTS+"</label>&nbsp;&nbsp;";h+="<input type='radio' name='type' id='"+c+"-changetype-geocode'>";h+="<label for='"+c+"-changetype-geocode'>"+js_lang_label.GENERIC_GEOCODES+"</lable>";h+="</div>";"Yes"==e.maps.showlatlng&&(h+="<div id='show_lat_lng_"+c+"' class='frm-gmf-latlng'></div>");
h+="<span class='canvas_map'><div id='map_canvas_"+c+"' "+g+"></div></span>";d=$(a).closest(".editable-container");$(d).wrap("<span />");$(a).after(h);setTimeout(function(){$("#gmf_autocomplete_"+c).elastic();initializeGoogleMap(c,$(a),f,"","")},100)}}}
function appendCodeMarkupProperties(a,b){if(b){var c=b.name,d=b.editevents;d.CodeMirror&&(c+="_cm",$(a).attr("id",c),d=assignEventParams(d.CodeMirror.params),d=$.extend({},d,{onCursorActivity:function(b){$(a).val(b.getValue())}}),removeCodeMarkupProperties(c),d=CodeMirror.fromTextArea(document.getElementById(c),d),$("#"+c).data("cm",d))}}
function appendTextAreaProperties(a,b){if(b){var c=b.editevents;c.elastic&&$(a).elastic();c.inputlimiter&&(c=assignEventParams(c.inputlimiter.params),$(a).inputlimiter(c))}}
function appendUploadifyProperties(a,b){if(b){var c=b.name,d=b.dbval,e=b.parentattr,f=b.editevents;if(!f.fileupload)return!1;var g="<div class='uploader'>"+("<input type='hidden' value='"+d+"' name='temp_"+c+"' id='temp_"+c+"' />")+("<input type='file' name='uploadify_"+c+"' id='uploadify_"+c+"' title='"+b.label+"'/>");g+="<span class='filename' id='preview_caf_file'>"+f.fileupload.placeholder+"</span><span class='action'>Choose File</span>";g+="</div>";var h=$(a).closest(".editable-container");$(h).wrap("<div "+
e+' id="btn_file_'+c+'"/>');$(a).after(g);e=f.fileupload;f=assignEventParams(e.params);e=$.extend({},f,{formData:{unique_name:e.unique_name,id:e.id,type:"uploadify"},add:function(a,b){var c=[],d=$(this).fileupload("option","name"),e=$(this).fileupload("option","temp"),f=$(this).fileupload("option","formData"),g=$(this).fileupload("option","maxFileSize"),h=$(this).fileupload("option","acceptFileTypes"),k=b.originalFiles[0].name,p=b.originalFiles[0].size;"*"!=h&&(k=k?k.substr(k.lastIndexOf(".")):"",
h=new RegExp("(.|/)("+h+")$","i"),k&&!h.test(k)&&c.push(js_lang_label.ACTION_FILE_TYPE_IS_NOT_ACCEPTABLE));p&&p>1E3*g&&c.push(js_lang_label.ACTION_FILE_SIZE_IS_TOO_LARGE);0<c.length?Project.setMessage(c.join("\n"),0):(f.oldFile=$("#"+e).val(),$(this).fileupload("option","formData",f),$("#preview_"+d).html(b.originalFiles[0].name),b.submit())},done:function(a,b){if(b&&b.result){var c=$(this).fileupload("option","name"),e=$(this).fileupload("option","temp"),f=$.parseJSON(b.result);"0"==f.success?Project.setMessage(f.message,
0):($("#"+c).val(f.uploadfile),$("#"+e).val(f.oldfile),displayAdminOntheFlyImage(c,f),saveFormInlineEditble(c,f.uploadfile,el_form_settings.form_edit_id,{old_file:d}),setTimeout(function(){$(".frm-block-layout").click()},200))}},fail:function(a,b){$.each(b.messages,function(a,b){Project.setMessage(b,0)})}});$("#uploadify_"+c).fileupload(e)}}
function makeEditableTextBox(a){if(inline_settings_arr[a]){var b=inline_settings_arr[a].value,c=!0;"file"==inline_settings_arr[a].type?(b=inline_settings_arr[a].dbval,c=!1):"rating_master"==inline_settings_arr[a].type&&(b=inline_settings_arr[a].dbval);$("#"+a).editable({showbuttons:c,type:"text",name:a,placeholder:inline_settings_arr[a].place_holder,value:b,pk:el_form_settings.form_edit_id,onblur:"submit",validate:function(a){var b=$(this).attr("id");return validateViewInlineEdit(b,a,inline_settings_arr[b])},
url:function(a){saveFormInlineEditble(a.name,a.value,a.id)}});$("#"+a).on("shown",function(b,c){var d=$(this).attr("id"),e=$(c.$form).find(".editable-input").find("input[type='text']"),h=inline_settings_arr[d],k=h.editattr;switch(h.type){case "date":$(e).addClass("date-picker-icon");activeDateTimePicker(e,"date",h.editevents.datepicker.params);addElementProperties($(e),k);break;case "date_and_time":$(e).addClass("date-picker-icon");activeDateTimePicker(e,"dateTime",h.editevents.datetimepicker.params);
addElementProperties($(e),k);break;case "time":$(e).addClass("date-picker-icon");activeDateTimePicker(e,"time",h.editevents.timepicker.params);addElementProperties($(e),k);break;case "phone_number":$(e).mask(h.editoptions.format);addElementProperties($(e),k);break;case "file":$(e).hide();appendUploadifyProperties(e,h);break;case "textbox":addElementProperties($(e),k);applyInputTextCase($(c.$form).find(".editable-input"));applyAddonElementHTML($(c.$form).find(".editable-input"),h);break;case "color_picker":activateColorPicker(e,
k.color_preview);addElementProperties($(e),k);break;case "autocomplete":var p=Math.floor(1E5*Math.random()+1);$(e).attr("id",p);$(e).wrap('<div class="frm-token-autocomplete frm-size-medium" />');activateAutoComplete(e,h,d);addElementProperties($(e),k);setTimeout(function(){$(c.$form).find(".frm-token-autocomplete").append(inline_settings_arr[a].add_content);var b=$(c.$form).find(".fancybox-hash-iframe").attr("href");$(c.$form).find(".fancybox-hash-iframe").attr("href",b+"|rfhtmlID|"+p)},5);break;
case "rating_master":$(e).hide(),appendRatingProperties(e,h)}});if("rating_master"==inline_settings_arr[a].type)$("#"+a).on("hidden",function(a,b){var c=$(this).attr("id");$("#rshow_"+c).show()})}}
function activateAutoComplete(a,b,c){var d=b.editevents.token.params;token_pre_populates[c]=d.prePopulate;getAutoCompDataValueArr(c);token_input_assign=$(a).tokenInput(b.editevents.serviceUrl,{minChars:d.minChars,multi:b.editevents.multi,propertyToSearch:d.propertyToSearch,theme:d.theme,tokenLimit:d.tokenLimit,hintText:d.hintText,noResultsText:d.noResultsText,searchingText:d.searchingText,preventDuplicates:d.preventDuplicates,prePopulate:d.prePopulate,onAdd:function(a){token_pre_populates[c]=token_input_assign.tokenInput("get");
getAutoCompDataValueArr(c)},onDelete:function(a){token_pre_populates[c]=token_input_assign.tokenInput("get");getAutoCompDataValueArr(c)}})}function getAutoCompDataValueArr(a){var b=[];for(i in token_pre_populates[a])b[i]=token_pre_populates[a][i].val;$("#"+a).attr("data-value",b.join(","))}
function appendRatingProperties(a,b){var c=$("<span />",{id:"rstar_"+b.name,"aria-raty-name":b.name}).addClass("rating-icons-block");var d=$("#rshow_"+b.name);var e=$("#rscore_"+b.name);e=$(e).text();var f=$.extend({},b.editevents.raty.params);f.target=a;activateRatingMasterEvent(c,f,b.editevents.raty.hints,e);$(a).after(c);$(d).hide()}
function makeEditablePassword(a){if(inline_settings_arr[a]){var b=inline_settings_arr[a].value;$("#"+a).editable({showbuttons:!0,type:"password",placeholder:inline_settings_arr[a].place_holder,name:a,value:b,pk:el_form_settings.form_edit_id,onblur:"submit",validate:function(a){var b=$(this).attr("id");return validateViewInlineEdit(b,a,inline_settings_arr[b])},url:function(a){saveFormInlineEditble(a.name,a.value,a.id)}});$("#"+a).on("shown",function(a,b){var c=$(this).attr("id"),d=$(b.$form).find(".editable-input").find("input[type='password']");
c=inline_settings_arr[c];var g=c.editattr;addElementProperties($(d),g);c.patternlock&&($(d).attr("role","patternlock"),initializePatternPwdEvents($(b.$form).find(".editable-input")))})}}
function intializeInlineEditble(a){if(inline_settings_arr){var b=inline_settings_arr,c;for(c in b)if(b[c].editable){var d=b[c].type,e=b[c].name;if(!a||!$(a).length||$(a).find("#"+e).length)switch(d){case "checkboxes":makeEditableDropdown(e);break;case "code_markup_field":makeEditableTextArea(e);break;case "date":makeEditableTextBox(e);break;case "date_and_time":makeEditableTextBox(e);break;case "dropdown":makeEditableDropdown(e);break;case "file":makeEditableTextBox(e);break;case "google_maps":makeEditableTextArea(e);
break;case "multi_select_dropdown":makeEditableDropdown(e);break;case "password":makeEditablePassword(e);break;case "phone_number":makeEditableTextBox(e);break;case "radio_buttons":makeEditableDropdown(e);break;case "textarea":makeEditableTextArea(e);break;case "time":makeEditableTextBox(e);break;case "color_picker":makeEditableTextBox(e);break;case "autocomplete":makeEditableTextBox(e);break;case "rating_master":makeEditableTextBox(e);break;case "wysiwyg":makeEditableTextArea(e);break;default:makeEditableTextBox(e)}}}}
function displaySettingOntheFlyImage(a,b){if(b.fileURL){var c="<a title='"+js_lang_label.GENERIC_GRID_DELETE+"' style='text-decoration:none;' href='javascript://' onclick='deleteSettingFileTypeDocs(\""+a+"\")' id='anc_imgdel_"+a+"' >";c+="<i class='icon16 entypo-icon-close icon-red no-margin'></i></a>";var d=$("<a />");"file"==b.fileType?($(d).attr("id","anc_imgview_"+a).attr("href",b.fileURL).attr("target","_blank").html("<i class='fa fa-file-text-o fa-2x'></i>"),$("#img_view_"+a).html(d)):($(d).attr("id",
"anc_imgview_"+a).attr("href",b.fileURL).addClass("fancybox-image").html("<img src='"+b.fileURL+"' alt='Image' width='"+b.width+"' height='"+b.height+"'/>"),$("#img_view_"+a).html(d),initializeFancyBoxEvents($("#img_view_"+a)));$("#img_del_"+a).html(c)}}
function deleteSettingFileTypeDocs(a){jqueryUIdialogBox("<div></div>",js_lang_label.GENERIC_ARE_YOU_SURE_WANT_TO_DELETE_THIS,{title:js_lang_label.GENERIC_GRID_DELETE,buttons:[{text:js_lang_label.GENERIC_DELETE,bt_type:"delete",click:function(){$.ajax({url:$upload_form_file,type:"POST",data:{vSettingName:a,actionType:"delete",vValue:$("#"+a).val()},success:function(b){"1"==$.parseJSON(b).success?($("#img_view_"+a).html(""),$("#img_del_"+a).html(""),$("#old_"+a).val(""),$("#"+a).val("")):Project.setMessage(js_lang_label.GENERIC_ERROR_IN_FILE_DELETION,
0)}});$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]})}function applyAddonElementHTML(a,b){b&&b.addon_apply&&(b.addon_html?b.addon_pos&&"prefix"==b.addon_pos?$(a).prepend(b.addon_html):$(a).append(b.addon_html):(b.addon_prefix&&$(a).prepend(b.addon_prefix),b.addon_suffix&&$(a).append(b.addon_suffix)))}
function initDetailViewEditable(){if(detail_view_colmodel_json&&el_topview_settings.permit_edit_btn){var a={};for(i in detail_view_colmodel_json){var b=detail_view_colmodel_json[i].type,c=detail_view_colmodel_json[i].editable,d=detail_view_colmodel_json[i].htmlID;a[d]=detail_view_colmodel_json[i];"rating_master"==b&&displayDetailViewRatingProperties(d,a[d]);if(c)switch(b){case "checkboxes":makeDetailViewEditableDropdown(d,a);break;case "code_markup_field":makeDetailViewEditableTextArea(d,a);break;
case "date":makeDetailViewEditableTextBox(d,a);break;case "date_and_time":makeDetailViewEditableTextBox(d,a);break;case "dropdown":makeDetailViewEditableDropdown(d,a);break;case "file":makeDetailViewEditableTextBox(d,a);break;case "google_maps":makeDetailViewEditableTextArea(d,a);break;case "multi_select_dropdown":makeDetailViewEditableDropdown(d,a);break;case "password":makeDetailViewEditablePassword(d,a);break;case "phone_number":makeDetailViewEditableTextBox(d,a);break;case "radio_buttons":makeDetailViewEditableDropdown(d,
a);break;case "textarea":makeDetailViewEditableTextArea(d,a);break;case "time":makeDetailViewEditableTextBox(d,a);break;case "color_picker":makeDetailViewEditableTextBox(d,a);break;case "autocomplete":makeDetailViewEditableTextBox(d,a);break;case "rating_master":makeDetailViewEditableTextBox(d,a);break;case "wysiwyg":makeDetailViewEditableTextArea(d,a);break;default:makeDetailViewEditableTextBox(d,a)}}}}
function saveDetailInlineEdit(a,b,c,d){var e=detail_view_colmodel_json[a],f={name:e.name,value:b,id:c};"object"==typeof d&&(f=$.extend({},f,d));d={url:el_topview_settings.edit_page_url,data:f,success:function(d,f){var g=$.parseJSON(d);if(g&&"false"==g.success){var h=js_lang_label.GENERIC_ERROR_IN_UPDATION;""!=g.message&&(h=g.message);$("#"+a).editable("option","value",$("#"+a).attr("aria-prev-value"));$("#"+a).editable("show");gridReportMessage(!1,h)}else if("3"==g.success||"4"==g.success)isRedirectEqualHash(g.red_hash)?
(window.location.hash=g.red_hash,window.location.reload()):window.location.hash=g.red_hash;else if("5"==g.success)window.location.href=g.red_hash;else switch(e.type){case "multi_select_dropdown":case "checkboxes":""!=$("#"+a).attr("data-value")&&$("#"+a).html($("#"+a).attr("data-value"));break;case "autocomplete":g=e.editoptions.token.params;0<detail_token_pre_populates[a].length&&$("#"+a).html($("#"+a).attr("data-value"));g.prePopulate=detail_token_pre_populates[a];break;case "password":$("#"+a).html("*****");
break;case "file":detail_view_colmodel_json[a].dbval=b;displayAdminFormFlyImage(a,c,e.editoptions.uploadify,g);break;case "rating_master":$("#rshow_"+e.htmlID).raty("set",{score:b});$("#rscore_"+e.htmlID).text(b);$("#"+e.htmlID).html('<span class="icon16 icomoon-icon-pencil-5"><b>'+js_lang_label.GENERIC_EDIT+"</b></span>");break;default:$("#"+a).attr("aria-prev-value",b)}}};$("#"+a).editable("submit",d)}
function adminAjaxAutoCompChangeEvent(a,b,c,d){if(!$("#"+b).data("tokenInputObject"))return!1;var e=$("#"+b).data("tokenInputObject").getManualsettings();e.extraParams="parent_id="+$(a).val();if($.isPlainObject(d))for(var f in d)e.extraParams+="&"+f+"="+d[f];c||(e.prePopulate={});$("#"+b).data("tokenInputObject").destroy();$("#autocomp_"+b).find(".token-input-list-facebook").length&&$("#autocomp_"+b).find(".token-input-list-facebook").remove();$("#autocomp_"+b).find(".token-input-list").length&&$("#autocomp_"+
b).find(".token-input-list").remove();$("#"+b).tokenInput(e.url,e)}
function makeDetailViewEditableTextBox(a,b){var c=!0;if("file"==b[a].type){var d=b[a].dbval;c=!1}$("#"+a).editable({showbuttons:c,placeholder:b[a].editoptions.placeholder,type:"text",name:a,value:d,pk:el_topview_settings.edit_id,onblur:"submit",validate:function(a){var c=$(this).attr("id");return validateViewInlineEdit(c,a,b[c])},url:function(a){saveDetailInlineEdit(a.name,a.value,a.id)}});$("#"+a).on("shown",function(c,d){var e=$(this).attr("id"),f=$(d.$form).find(".editable-input").find("input[type='text']");
e=b[e];switch(e.type){case "date":$(f).addClass("date-picker-icon");activeDateTimePicker(f,"date",e.editoptions);break;case "date_and_time":$(f).addClass("date-picker-icon");activeDateTimePicker(f,"dateTime",e.editoptions);break;case "time":$(f).addClass("date-picker-icon");activeDateTimePicker(f,"time",e.editoptions);break;case "phone_number":$(f).mask(e.editoptions.format);break;case "textbox":e.editoptions.text_case&&($(f).addClass(e.editoptions.text_case),applyInputTextCase($(d.$form).find(".editable-input")));
applyAddonElementHTML($(d.$form).find(".editable-input"),e);break;case "color_picker":activateColorPicker(f,e.editoptions.color_preview);addElementProperties(f,e.editoptions);break;case "file":$(f).hide();appendDetailViewUploadifyProperties(f,e);break;case "autocomplete":var k=Math.floor(1E5*Math.random()+1);$(f).attr("id",k);$(f).wrap('<div class="frm-token-autocomplete frm-size-medium" />');activateDetailViewAutoComplete(f,e,a);addElementProperties(f,e.editoptions);setTimeout(function(){$(d.$form).find(".frm-token-autocomplete").append(b[a].add_content);
var c=$(d.$form).find(".fancybox-hash-iframe").attr("href");$(d.$form).find(".fancybox-hash-iframe").attr("href",c+"|rfhtmlID|"+k)},5);break;case "rating_master":$(f).hide(),appendDetailViewRatingProperties(f,e)}0<parseInt(e.editoptions.width)&&$(f).css("width",e.editoptions.width)});if("rating_master"==b[a].type)$("#"+a).on("hidden",function(a,b){var c=$(this).attr("id");$("#rshow_"+c).show()})}
function activateDetailViewAutoComplete(a,b,c){var d=b.editoptions.token.params;detail_token_pre_populates[c]=d.prePopulate;getDetailAutoCompDataValueArr(c);detail_token_input_assign=$(a).tokenInput(b.editoptions.serviceUrl,{minChars:d.minChars,multi:b.editoptions.multi,propertyToSearch:d.propertyToSearch,theme:d.theme,tokenLimit:d.tokenLimit,hintText:d.hintText,noResultsText:d.noResultsText,searchingText:d.searchingText,preventDuplicates:d.preventDuplicates,prePopulate:d.prePopulate,onAdd:function(a){detail_token_pre_populates[c]=
detail_token_input_assign.tokenInput("get");getDetailAutoCompDataValueArr(c)},onDelete:function(a){detail_token_pre_populates[c]=detail_token_input_assign.tokenInput("get");getDetailAutoCompDataValueArr(c)}})}function getDetailAutoCompDataValueArr(a){var b=[];for(i in detail_token_pre_populates[a])b[i]=detail_token_pre_populates[a][i].val;$("#"+a).attr("data-value",b.join(","))}
function displayDetailViewRatingProperties(a,b){var c=$("<span />").attr("id","rshow_"+a).addClass("rating-icons-block");var d=$("#rscore_"+a);var e=$(d).text();var f=$.extend({},b.editoptions.raty.params);f.cancel=!1;f.readOnly=!0;activateRatingMasterEvent(c,f,b.editoptions.raty.hints,e);$(d).after(c);$(d).hide()}
function appendDetailViewRatingProperties(a,b){var c=$("<span />",{id:"rstar_"+b.htmlID,"aria-raty-name":b.htmlID}).addClass("rating-icons-block");var d=$("#rshow_"+b.htmlID);var e=$("#rscore_"+b.htmlID);e=$(e).text();var f=$.extend({},b.editoptions.raty.params);f.target=a;activateRatingMasterEvent(c,f,b.editoptions.raty.hints,e);$(a).after(c);$(d).hide()}
function makeDetailViewEditableTextArea(a,b){$("#"+a).editable({showbuttons:!0,type:"textarea",placeholder:b[a].editoptions.placeholder,name:a,pk:el_topview_settings.edit_id,onblur:"submit",rows:3,validate:function(a){var c=$(this).attr("id");return validateViewInlineEdit(c,a,b[c])},url:function(a){saveDetailInlineEdit(a.name,a.value,a.id)}});$("#"+a).on("shown",function(a,d){var c=$(this).attr("id"),f=$(d.$form).find(".editable-input").find("textarea");c=b[c];c.editoptions.text_case&&($(f).addClass(c.editoptions.text_case),
applyInputTextCase($(d.$form).find(".editable-input")))})}function makeDetailViewEditablePassword(a,b){$("#"+a).editable({showbuttons:!0,type:"password",placeholder:b[a].editoptions.placeholder,name:a,pk:el_topview_settings.edit_id,onblur:"submit",validate:function(a){var c=$(this).attr("id");return validateViewInlineEdit(c,a,b[c])},url:function(a){saveDetailInlineEdit(a.name,a.value,a.id)}})}
function makeDetailViewEditableDropdown(a,b){if(b[a].editoptions&&b[a].editoptions.dataUrl){var c=b[a].editoptions.dataUrl;$("#"+a).editable({showbuttons:!0,type:"select",source:c,pk:el_topview_settings.edit_id,sourceCache:!1,validate:function(a){var c=$(this).attr("id");return validateViewInlineEdit(c,a,b[c])},url:function(a){saveDetailInlineEdit(a.name,a.value,a.id)}});$("#"+a).on("shown",function(c,e){var d=$(e.$form).find(".editable-input").find("select");$(d).attr("data-placeholder",b[a].editoptions.data_placeholder);
$(d).find("option").removeAttr("selected");var g=$(this).attr("data-value");$(d).find("option").each(function(){if($(this).text()==g)return $(this).prop("selected",!0),!1});var h=$(this).attr("id"),k=b[h];switch(k.type){case "checkboxes":$(d).attr("multiple",!0);break;case "multi_select_dropdown":$(d).attr("multiple",!0)}0<parseInt(k.editoptions.width)&&$(d).attr("style",function(a,b){return"width: "+k.editoptions.width+"px !important;"+b});if("checkboxes"==k.type||"multi_select_dropdown"==k.type){var p=
[];$.each(g.split(","),function(){p.push($.trim(this))});$(d).find("option").each(function(){-1!=$.inArray($.trim($(this).text()),p)&&$(this).prop("selected",!0)})}else $(d).find("option").each(function(){if($.trim($(this).text())==$.trim(g))return $(this).prop("selected",!0),!1});setTimeout(function(){$(d).chosen({allow_single_deselect:!0});var a=$(d).attr("id");$("#"+a+"_chosen").trigger("mousedown");$("#"+a+"_chosen").find("input[type='text']").focus();a=b[h];"ajax-call"==a.editoptions.ajaxCall&&
(a=el_topview_settings.ajax_data_url+("&mode="+cus_enc_mode_json.Update+"&&unique_name="+a.editoptions.rel+"&id="+el_topview_settings.edit_id),$(d).ajaxChosen({dataType:"json",type:"POST",url:a},{loadingImg:admin_image_url+"chosen-loading.gif"}))},5);$(d).change(function(){if("checkboxes"==k.type||"multi_select_dropdown"==k.type){var a=[];$(this).find("option:selected").each(function(){a.push($(this).text())});a&&0<a.length?$("#"+h).attr("data-value",a.join(",")):$("#"+h).attr("data-value","")}else $("#"+
h).attr("data-value",$(this).find("option:selected").val())})})}}
function appendDetailViewUploadifyProperties(a,b){if(b){var c=b.htmlID,d=b.dbval,e=b.parentattr,f=b.editoptions;if(!f.fileupload)return!1;var g="<div class='uploader'>"+("<input type='hidden' value='"+d+"' name='temp_"+c+"' id='temp_"+c+"' />")+("<input type='file' name='uploadify_"+c+"' id='uploadify_"+c+"' title='"+b.label+"'/>");g+="<span class='filename' id='preview_caf_file'>"+f.fileupload.placeholder+"</span><span class='action'>Choose File</span>";g+="</div>";var h=$(a).closest(".editable-container");
$(h).wrap("<div "+e+' id="btn_file_'+c+'"/>');$(a).after(g);var k=f.fileupload;e=assignEventParams(k.params);e=$.extend({},e,{formData:{unique_name:k.unique_name,id:k.id,type:"uploadify"},add:function(a,b){var c=[],d=$(this).fileupload("option","name"),e=$(this).fileupload("option","temp"),f=$(this).fileupload("option","formData"),g=$(this).fileupload("option","maxFileSize"),h=$(this).fileupload("option","acceptFileTypes"),k=b.originalFiles[0].name,p=b.originalFiles[0].size;if("*"!=h){var q=k?k.substr(k.lastIndexOf(".")):
"";h=new RegExp("(.|/)("+h+")$","i");q&&!h.test(q)&&c.push(js_lang_label.ACTION_FILE_TYPE_IS_NOT_ACCEPTABLE)}p&&p>1E3*g&&c.push(js_lang_label.ACTION_FILE_SIZE_IS_TOO_LARGE);0<c.length?Project.setMessage(c.join("\n"),0):(f.oldFile=$("#"+e).val(),$(this).fileupload("option","formData",f),$("#preview_"+d).html(k),b.submit())},done:function(a,b){if(b&&b.result){var c=$(this).fileupload("option","name"),e=$(this).fileupload("option","temp"),f=$.parseJSON(b.result);"0"==f.success?Project.setMessage(f.message,
0):($("#"+c).val(f.uploadfile),$("#"+e).val(f.oldfile),displayAdminFormFlyImage(c,k.id,k,f),saveDetailInlineEdit(c,f.uploadfile,el_topview_settings.edit_id,{old_file:d}),setTimeout(function(){$(".jqgrid-subview").click()},200))}},fail:function(a,b){$.each(b.messages,function(a,b){Project.setMessage(b,0)})}});$("#uploadify_"+c).fileupload(e)}}
function displayAdminFormFlyImage(a,b,c,d){d.fileURL&&(b="<a title='"+js_lang_label.GENERIC_GRID_DELETE+"' style='text-decoration:none;' href='javascript://' onclick='deleteFileTypeDocs(\""+b+'","'+c.unique_name+'","'+c.delete_file_url+'","'+c.folder+'","'+a+'","EN")\' id=\'anc_imgdel_'+a+"' >",b+="<i class='icon16 entypo-icon-close icon-red no-margin'></i></a>",c=$("<a />"),"file"==d.fileType?$(c).attr("id","anc_imgview_"+a).attr("href",d.fileURL).attr("target","_blank").addClass("btn btn-success btn-mini").html("View"):
$(c).attr("id","anc_imgview_"+a).attr("href",d.fileURL).addClass("fancybox-image").html("<img src='"+d.fileURL+"' alt='Image' width='"+d.width+"' height='"+d.height+"'/>"),$("#img_view_"+a).html(c),$("#img_del_"+a).html(b),initializeFancyBoxEvents($("#img_view_"+a)))}
function printErrorMessage(a,b,c){var d=$(a).attr("name");if($.isArray(b))for(var e=0;e<b.length;e++){var f=isStringMatched(d,b[e]);if(f){"-1"!=$.inArray($(a).attr("type"),["checkbox","radio"])?(b=$(a).attr("name"),"checkbox"==$(a).attr("type")&&(b=b.replace(/\[]/g,"")),b=b.replace(/\[/g,"_").replace(/\]/g,""),$("#"+b+"Err").html(c)):$("#"+$(a).attr("id")+"Err").html(c);break}}else(f=isStringMatched(d,b))&&$("#"+$(a).attr("id")+"Err").html(c)}
function isStringMatched(a,b){if(!b||!a)return!1;b=b.replace(/\[/g,"\\[").replace(/\]/g,"\\]");var c=a.match(new RegExp(b));return $.isArray(c)&&0<c.length?!0:!1};