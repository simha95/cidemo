function resizeGridWidth(){if(!("undefined"!=typeof el_tpl_settings.main_grid_id&&el_tpl_settings.main_grid_id&&"undefined"!=typeof el_tpl_settings.main_pager_id&&el_tpl_settings.main_pager_id&&"undefined"!=typeof el_tpl_settings.main_wrapper_id&&el_tpl_settings.main_wrapper_id&&$("#"+el_tpl_settings.main_grid_id).length))return!1;var a=el_tpl_settings.main_grid_id,b=el_tpl_settings.main_pager_id,c=el_tpl_settings.main_wrapper_id,d=0,e=0,f=$("#"+el_tpl_settings.main_grid_id).jqGrid("getGridParam",
"autowidth");c=$("#"+c).width();var h=$("#"+a).offset().left;410<h&&(h=$("#main_content_div").offset().left,$("#left_search_panel").length&&!$("#left_search_panel").is(":hidden")&&(h+=$("#left_search_panel").width()));d+=h+el_theme_settings.grid_width_dec;e+=h+el_theme_settings.grid_width_dec;var g=c-d;d=$(window).width()-e;e=c-25;$("#"+b).width(d);$("#"+a+"_toppager").width(d);$("#detail_view_block").length&&$("#detail_view_block").width(e);d=[];d[0]=$("#"+a).length?$("#"+a).offset().top:0;d[1]=
$("#bot_copyright").length?$("#bot_copyright").height():0;d[2]=$("#"+b).length?$("#"+b).height():0;d[3]=$(".ui-jqgrid-sdiv").find("#hbox_"+a+"_jqgrid").length?parseInt($(".ui-jqgrid-sdiv").find("#hbox_"+a+"_jqgrid").height()):0;var k=el_theme_settings.grid_height_dec;$.each(d,function(){k+=parseInt(this)||0});b=$(window).innerHeight()-k;75<b?jQuery("#"+a).setGridHeight(b,!0):jQuery("#"+a).setGridHeight(75,!0);if(f){f=$("#"+a).jqGrid("getGridParam","colModel");b=0;for(l in f)f[l]&&f[l].name&&-1==$.inArray(f[l].name,
["cb","rn","subgrid","prec"])&&1!=f[l].hidden&&b++;var l=el_tpl_settings.grid_column_width*b;g=g>l?g:l;jQuery("#"+a).setGridWidth(g,!0)}else $(".ui-jqgrid-bdiv:first").width()>=g?setTimeout(function(){var b=$(".ui-jqgrid-bdiv:first div:first"),c=$(b).hasScrollBar()?g-36:g-18;$("#hbox_"+a+"_jqgrid").width(c).addClass("horizon-header-scroll");$(b).width(g).addClass("horizon-data-scroll");$(b).scroll(function(){$("#hbox_"+a+"_jqgrid").scrollLeft($(b).scrollLeft())})},100):(l=$(".ui-jqgrid-bdiv:first div:first"),
$("#hbox_"+a+"_jqgrid").css("width","auto").removeClass("horizon-header-scroll"),$(l).css("width","auto").removeClass("horizon-data-scroll"),l=$(l).hasScrollBar()?g-18:g,jQuery("#"+a).setGridWidth(l,!0));if(el_theme_settings.grid_searchopt){l=$("#hbox_"+a+"_jqgrid").find(".ui-search-toolbar");var m;$(l).find(".ui-search-input").each(function(){$(this).siblings(".ui-search-combo").css({width:"auto"});m=$(this).find("select[id^='gs_']").length?$(this).find(".chosen-container[id^='gs_']").length?$(this).find(".chosen-container[id^='gs_']").outerWidth():
$(this).find("select[id^='gs_']").outerWidth():$(this).find("input[id^='gs_']").outerWidth();$(this).siblings(".ui-search-combo").outerWidth(m)})}}
function resizeFancyGridWidth(){if(!("undefined"!=typeof el_tpl_settings.main_grid_id&&el_tpl_settings.main_grid_id&&"undefined"!=typeof el_tpl_settings.main_pager_id&&el_tpl_settings.main_pager_id&&"undefined"!=typeof el_tpl_settings.main_wrapper_id&&el_tpl_settings.main_wrapper_id&&$("#"+el_tpl_settings.main_grid_id).length))return!1;var a=el_tpl_settings.main_grid_id,b=el_tpl_settings.main_pager_id,c=el_tpl_settings.main_wrapper_id,d=0,e=0,f=$("#"+el_tpl_settings.main_grid_id).jqGrid("getGridParam",
"autowidth");c=$("#"+c).width();var h=$("#"+a).offset().left;410<h&&(h=$("#main_content_div").offset().left,$("#left_search_panel").length&&!$("#left_search_panel").is(":hidden")&&(h+=$("#left_search_panel").width()));d+=h+el_theme_settings.grid_width_dec;e+=h+el_theme_settings.grid_width_dec;var g=c-d;d=$(window).width()-e;e=c-25;$("#"+b).width(d);$("#"+a+"_toppager").width(d);$("#detail_view_block").length&&$("#detail_view_block").width(e);jQuery("#"+a).setGridHeight(350,!0);if(f){b=$("#"+a).jqGrid("getGridParam",
"colModel");f=0;for(k in b)b[k]&&b[k].name&&-1==$.inArray(b[k].name,["cb","rn","subgrid","prec"])&&1!=b[k].hidden&&f++;var k=el_tpl_settings.grid_column_width*f;g=g>k?g:k;jQuery("#"+a).setGridWidth(g,!0)}else $(".ui-jqgrid-bdiv:first").width()>=g?setTimeout(function(){var b=$(".ui-jqgrid-bdiv:first div:first"),c=$(b).hasScrollBar()?g-36:g-18;$("#hbox_"+a+"_jqgrid").width(c).addClass("horizon-header-scroll");$(b).width(g).addClass("horizon-data-scroll");$(b).scroll(function(){$("#hbox_"+a+"_jqgrid").scrollLeft($(b).scrollLeft())})},
100):(k=$(".ui-jqgrid-bdiv:first div:first"),$("#hbox_"+a+"_jqgrid").css("width","auto").removeClass("horizon-header-scroll"),$(k).css("width","auto").removeClass("horizon-data-scroll"),k=$(k).hasScrollBar()?g-18:g,jQuery("#"+a).setGridWidth(k,!0));if(el_theme_settings.grid_searchopt){k=$("#hbox_"+a+"_jqgrid").find(".ui-search-toolbar");var l;$(k).find(".ui-search-input").each(function(){$(this).siblings(".ui-search-combo").css({width:"auto"});l=$(this).find("select[id^='gs_']").length?$(this).find(".chosen-container[id^='gs_']").length?
$(this).find(".chosen-container[id^='gs_']").outerWidth():$(this).find("select[id^='gs_']").outerWidth():$(this).find("input[id^='gs_']").outerWidth();$(this).siblings(".ui-search-combo").outerWidth(l)})}}
function resizeSubGridWidth(a){if("undefined"==typeof el_tpl_settings.main_grid_id||!el_tpl_settings.main_grid_id||"undefined"==typeof a||!a)return!1;var b=$("#"+a).jqGrid("getGridParam","autowidth"),c=$("#"+el_tpl_settings.main_grid_id).jqGrid("getGridParam","autowidth");b||c?(b=$("#gbox_"+el_tpl_settings.main_grid_id).width()-85,jQuery("#"+a).setGridWidth(b,!0)):(b=$("#hbox_"+a+"_jqgrid .ui-jqgrid-htable:first").width(),$("#gbox_"+a).width(b),$("#gview_"+a).width(b),$("#"+a+"_toppager").width(b),
$("#gview_"+a).find(".ui-jqgrid-hdiv").width(b),$("#gview_"+a).find(".ui-jqgrid-bdiv").width(b))}
function multiSelectHandler(a,b){var c=$(b.target).closest("table.ui-jqgrid-btable"),d=c[0],e=b.target,f=!1;"LABEL"==e.tagName&&$(e).siblings(".cbox").length?b.shiftKey&&(f=!0):"TD"==e.tagName&&"gridcell"==$(e).attr("role")?f=!0:$(e).hasClass("cbox")&&(f=!0);if(!f)return!1;e=c.getGridParam("selarrrow");f=0<=$.inArray(a,e);if(b.shiftKey){if(b.shiftKey){var h=c.getInd(a),g=h,k=h;for($.each(e,function(){var a=c.getInd(this);a<g&&(g=a);a>k&&(k=a)});g<=k;){h=d.rows[g++];var l=h.id;l!=a&&0>$.inArray(l,
e)&&c.setSelection(h.id,!1)}}else navigator.userAgent.match(/Mobile/g)||f||c.resetSelection();f?(c.setSelection(a,!1),d=c.getGridParam("onSelectRow"),$.isFunction(d)&&d(a,!0)):c.setSelection(a,!0)}else c.setSelection(a,!0);return!0}
function formatExpandableLink(a,b,c){return"1"==$("#"+b.gid).jqGrid("getGridParam","isSubMod")?'<a href="javascript://" class="expand-nesview" aria-rowid="'+b.rowId+'" aria-alias="'+b.colModel.name+'" >'+a+"</a>":'<a href="javascript://" class="expand-subview" aria-rowid="'+b.rowId+'" aria-alias="'+b.colModel.name+'" >'+a+"</a>"}function unformatExpandableLink(a,b,c){return a}
function formatAdminModuleEditLink(a,b,c){var d=$("#"+b.gid).jqGrid("getGridParam","curModule"),e=$("#"+b.gid).jqGrid("getGridParam","extraHash"),f=$("#"+b.gid).jqGrid("getGridParam","isSubMod"),h=!1;c=!1;var g="75%",k="75%";"1"==f&&"undefined"!=typeof el_subgrid_settings.permit_edit_btn&&"1"==el_subgrid_settings.permit_edit_btn?(h=!0,"undefined"!=typeof el_subgrid_settings.popup_edit_form&&"Yes"==el_subgrid_settings.popup_edit_form&&(el_subgrid_settings.popup_edit_size&&el_subgrid_settings.popup_edit_size[0]&&
(g=el_subgrid_settings.popup_edit_size[0]),el_subgrid_settings.popup_edit_size&&el_subgrid_settings.popup_edit_size[1]&&(k=el_subgrid_settings.popup_edit_size[1]),c=!0)):"2"==f&&"undefined"!=typeof el_nesgrid_settings.permit_edit_btn&&"1"==el_nesgrid_settings.permit_edit_btn?(h=!0,"undefined"!=typeof el_nesgrid_settings.popup_edit_form&&"Yes"==el_nesgrid_settings.popup_edit_form&&(el_nesgrid_settings.popup_edit_size&&el_nesgrid_settings.popup_edit_size[0]&&(g=el_nesgrid_settings.popup_edit_size[0]),
el_nesgrid_settings.popup_edit_size&&el_nesgrid_settings.popup_edit_size[1]&&(k=el_nesgrid_settings.popup_edit_size[1]),c=!0)):b.gid==el_tpl_settings.main_grid_id&&"1"==el_grid_settings.permit_edit_btn&&(h=!0,"Yes"==el_grid_settings.popup_edit_form&&(el_grid_settings.popup_edit_size&&el_grid_settings.popup_edit_size[0]&&(g=el_grid_settings.popup_edit_size[0]),el_grid_settings.popup_edit_size&&el_grid_settings.popup_edit_size[1]&&(k=el_grid_settings.popup_edit_size[1]),c=!0));f=a;h&&(d=admin_url+"#"+
d+"|mode|"+cus_enc_mode_json.Update+"|id|"+b.rowId,e&&(d+=e),e="",isFancyBoxActive(),c&&(e=" fancybox-hash-iframe",d+="|width|"+g+"|height|"+k+"|hideCtrl|true|loadGrid|"+b.gid),f='<a class="inline-edit-link '+e+'" href="'+d+'" >'+a+"</a>");return f}function unformatAdminModuleEditLink(a,b,c){return a}
function formatAdminModuleCustomEditLink(a,b,c){var d=$("#"+b.gid).jqGrid("getGridParam","isSubMod");c=b.rowId;b=b.colModel.name;var e=a;"0"==d&&el_general_settings.grid_main_link_model?el_general_settings.grid_main_link_model[c]&&el_general_settings.grid_main_link_model[c][b]&&(e=$("<b />").html(a),d=a,$(e).find("a").hasClass("inline-edit-link")&&(d=$(a).html()),a=el_general_settings.grid_main_link_model[c][b].link,c=el_general_settings.grid_main_link_model[c][b].extra_attr_str,e='<a href="'+a+'" '+
c+" >"+d+"</a>"):"1"==d&&el_general_settings.grid_sub_link_model?el_general_settings.grid_sub_link_model[c]&&el_general_settings.grid_sub_link_model[c][b]&&(e=$("<b />").html(a),d=a,$(e).find("a").hasClass("inline-edit-link")&&(d=$(a).html()),a=el_general_settings.grid_sub_link_model[c][b].link,c=el_general_settings.grid_sub_link_model[c][b].extra_attr_str,e='<a href="'+a+'" '+c+" >"+d+"</a>"):"2"==d&&el_general_settings.grid_nes_link_model&&el_general_settings.grid_nes_link_model[c]&&el_general_settings.grid_nes_link_model[c][b]&&
(e=$("<b />").html(a),d=a,$(e).find("a").hasClass("inline-edit-link")&&(d=$(a).html()),a=el_general_settings.grid_nes_link_model[c][b].link,c=el_general_settings.grid_nes_link_model[c][b].extra_attr_str,e='<a href="'+a+'" '+c+" >"+d+"</a>");return e}function unformatAdminModuleCustomEditLink(a,b,c){return a}function formatAdminListingData(a,b,c){return a}
function unformatAdminListingData(a,b,c){switch(b.colModel.ctrl_type){case "phone_number":if(a){a=a.split("");b="";c=/^[a-zA-Z0-9]+$/;for(var d=0;d<a.length;d++)c.test(a[d])&&(b+=a[d]);a=b}}return a}function formatAdminModuleRatingLink(a,b,c){if(!b.colModel.ratyallow||!b.colModel.ratyevents)return a;c=$("<span />").addClass("rating-icons-block");activateRatingMasterEvent(c,b.colModel.ratyevents.raty.params,b.colModel.ratyevents.raty.hints,a);return $(c)[0].outerHTML}
function unformatAdminModuleRatingLink(a,b,c){return a}
function inlineDateTimePicker(a,b,c){$("#"+a+"_"+b).attr("format");var d={};switch(c){case "date":d.dateFormat=$("#"+a+"_"+b).attr("aria-date-format");d.minDate=$("#"+a+"_"+b).attr("aria-min-date");d.maxDate=$("#"+a+"_"+b).attr("aria-max-date");break;case "dateTime":d.dateFormat=$("#"+a+"_"+b).attr("aria-date-format");d.timeFormat=$("#"+a+"_"+b).attr("aria-time-format");d.showSecond=$("#"+a+"_"+b).attr("aria-enable-sec");d.ampm=$("#"+a+"_"+b).attr("aria-enable-ampm");d.minDate=$("#"+a+"_"+b).attr("aria-min-date");
d.maxDate=$("#"+a+"_"+b).attr("aria-max-date");break;case "time":d.timeFormat=$("#"+a+"_"+b).attr("aria-time-format"),d.showSecond=$("#"+a+"_"+b).attr("aria-enable-sec"),d.ampm=$("#"+a+"_"+b).attr("aria-enable-ampm")}activeDateTimePicker($("#"+a+"_"+b),c,d)}
function activeDateTimePicker(a,b,c){switch(b){case "date":b={};c.minDate&&""!==c.minDate&&(b.minDate="0"==c.minDate?0:c.minDate);c.maxDate&&""!==c.maxDate&&(b.maxDate="0"==c.maxDate?0:c.maxDate);c={dateFormat:c.dateFormat,showOn:"focus",changeMonth:!0,changeYear:!0,yearRange:"c-100:c+100",onClose:function(a,b){$(this).focus()}};c=$.extend({},b,c);$(a).datepicker(c);break;case "time":$(a).timepicker({timeFormat:c.timeFormat,showSecond:"true"==c.showSecond||"1"==c.showSecond||!0===c.showSecond?!0:
!1,ampm:"true"==c.ampm||"1"==c.ampm||!0===c.ampm?!0:"",showOn:"focus",onClose:function(a,b){$(this).focus()}});break;case "dateTime":b={},c.minDate&&""!==c.minDate&&(b.minDate="0"==c.minDate?0:c.minDate),c.maxDate&&""!==c.maxDate&&(b.maxDate="0"==c.maxDate?0:c.maxDate),c={dateFormat:c.dateFormat,timeFormat:c.timeFormat,showSecond:"true"==c.showSecond||"1"==c.showSecond||!0===c.showSecond?!0:!1,ampm:"true"==c.ampm||"1"==c.ampm||!0===c.ampm?!0:"",showOn:"focus",changeMonth:!0,changeYear:!0,yearRange:"c-100:c+100",
onClose:function(a,b){$(this).focus()}},c=$.extend({},b,c),$(a).datetimepicker(c)}el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function getInlineDatePickerFormat(a,b){b=$.trim(b);var c={};switch(a){case "date":c.dateFormat=b?b:"yy-mm-dd";break;case "dateTime":c.dateFormat="yy-mm-dd";c.timeFormat="HH:mm:ss";c.showSecond=!1;c.ampm=!1;if(b){var d=b.split("|||");c.dateFormat=d[0];c.timeFormat=d[1];var e=$.trim(d[2]);e&&(e=e.split("@"),"ampm"==e[0]||"showSecond"==e[0])&&(c[e[0]]=1==e[1]?!0:!1)}break;case "time":if(c.timeFormat="HH:mm:ss",c.showSecond=!1,c.ampm=!1,b)d=b.split("|||"),c.timeFormat=d[0],e=$.trim(d[1]),d=$.trim(d[2]),
e&&(e=e.split("@"),"ampm"==e[0]||"showSecond"==e[0])&&(c[e[0]]=e[1]),d&&(e=d.split("@"),"ampm"==e[0]||"showSecond"==e[0])&&(c[e[0]]=e[1])}return c}function filterDateWiseResult(a){$("#"+a)[0].triggerToolbar()}function inlineColorPicker(a,b,c){c=$("#"+a+"_"+b).attr("color_preview");activateColorPicker($("#"+a+"_"+b),c)}
function activateColorPicker(a,b){$(a).colpick({eventName:"click",onShow:function(a){$(a).fadeIn(500);"Yes"==b&&$(this).css("backgroundColor",$(this).val());return!1},onHide:function(a){$(a).fadeOut(500);return!1},onChange:function(a,b,e,f,h){},onSubmit:function(a,d,e,f){$(f).val("#"+d);"Yes"==b&&$(f).css("backgroundColor","#"+d);$(f).unbind("focus");$(f).colpickHide();$(f).focus()}}).bind("keyup",function(){$(this).colpickSetColor(this.value)});$(a).bind("focus",function(){$(this).colpickShow();
$(this).colpickSetColor(this.value)});el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}function getColumnsDropDown(a,b,c,d,e){a=$.grep($("#"+a).getGridParam("colModel"),function(a,b){return"subgrid"==a.name||"cb"==a.name||"prec"==a.name?!1:!0});b="<select id='"+b+"' name='"+c+"' class='"+d+"' "+e+" >";for(var f in a)b=a[f].hidden?b+("<option value="+a[f].name+">"+a[f].label+"</option>"):b+("<option selected value="+a[f].name+">"+a[f].label+"</option>");return b+"</select>"}
function exportData(a,b,c){var d=$("input[name='export_type']:checked").length,e=$("input[name='export_mode']:checked").val();if("selected"==e&&0>=$("#columns_list").multiselect("getChecked").length)jQuery.jgrid.info_dialog(js_lang_label.GENERIC_GRID_EXPORT,js_lang_label.GENERIC_GRID_PLEASE_SELECT_ATLEAST_ONE_COLUMN,js_lang_label.GENERIC_GRID_CLOSE);else if("selected"!=e||d){d=base64_encode(JSON.stringify($("#columns_list").val()));var f="";"thispage"==b&&(f="page="+$("#"+a).getGridParam("page")+
"&rowlimit="+$("select[role='listbox']").val());if(0>=$("#"+a+" tr").length)jQuery.jgrid.info_dialog(js_lang_label.GENERIC_GRID_EXPORT,js_lang_label.GENERIC_THERE_IS_NO_DATA_TO_EXPORT,js_lang_label.GENERIC_GRID_CLOSE);else{b=base64_encode($("#"+a).getGridParam("postData").filters);var h=$("#"+a).getGridParam("postData").sidx;a=$("#"+a).getGridParam("postData").sord;void 0==b&&(b="");var g=$("input[name='export_type']:checked").val();window.location=c+"&filters="+b+"&fields="+d+"&"+f+"&sidx="+h+"&sord="+
a+"&export_type="+g+"&export_mode="+e}$.jgrid.hideModal("#info_dialog")}else jQuery.jgrid.info_dialog(js_lang_label.GENERIC_GRID_EXPORT,js_lang_label.GENERIC_PLEASE_SELECT_EXPORT_TYPE,js_lang_label.GENERIC_GRID_CLOSE)}function restoreBeforeEditedCell(a,b,c,d){if(0!=b&&0!=c&&0!=a.p.savedRow.length){var e=$("td:eq("+c+")",a.rows[b]);$(e).empty().attr("tabindex","-1");$(a).jqGrid("setCell",a.rows[b].id,c,d,!1,!1,!0)}}
function adminAddNewRecord(a,b,c,d,e){a=a+"|mode|"+cus_enc_mode_json.Add;b&&(a+=b);b=a;"Yes"==c?(a=c="75%",e&&e[0]&&(c=e[0]),e&&e[1]&&(a=e[1]),b+="|width|"+c+"|height|"+a+"|hideCtrl|true|loadGrid|"+d,d=getHASHToFancyParams(b),e=convertHASHToURL(b,!0),openURLFancyBox(e,d)):window.location.hash=b}
function adminStatusChange(a,b,c,d,e,f){if(!$.isArray(c)||!c.length)return jqueryUIalertBox(ci_js_validation_message(js_lang_label.GENERIC_PLEASE_SELECT_REC_TO_CHANGE_STATUS,"#STATUS#",e),e),!1;var h=ci_js_validation_message(js_lang_label.GENERIC_ARE_YOU_WANT_CHANGE_STATUS,"#STATUS#",e),g={oper:"status",status:b,id:c.join(","),AllRowSelected:$("#selAllRows").val(),filters:$("#"+a).getGridParam("postData").filters};f.before_status_change&&$.isFunction(window[f.before_status_change])&&(c=window[f.before_status_change](g),
$.isPlainObject(c)&&(g=$.extend(c,g)));jqueryUIdialogBox("<div />",h,{title:b,buttons:[{text:js_lang_label.GENERIC_OK,bt_type:"ok",click:function(){$.ajax({url:d,type:"POST",data:g,success:function(b){var c=$.parseJSON(b);if("true"==c.success){reloadListGrid(a);var d=ci_js_validation_message(js_lang_label.GENERIC_RECORDS_STATUS_CHANGED_SUCCESS,"#STATUS#",e)}else d=ci_js_validation_message(js_lang_label.GENERIC_ERROR_IN_UPDATE_STATUS,"#STATUS#",e);""!=c.message&&(d=c.message);gridReportMessage(c.success,
d);if(f.after_status_change&&$.isFunction(window[f.after_status_change]))window[f.after_status_change](b)}});$(this).remove()}},{text:js_lang_label.GENERIC_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]})}function gridReportMessage(a,b){Project.setMessage(b,a?1:0,10)}function hideAdminDataCheckBox(a,b){for(var c in b)if(b[c]){var d="jqg_"+a+"_"+b[c];$("#"+a).find("input[type='checkbox'][id='"+d+"']").remove()}}
function getAdminImageTooltip(a){a?$("#"+a).find(".inline-image-jip").length?$("#"+a).find(".inline-image-jip").each(function(){var a=$(this).attr("src");$(this).qtip({content:"<img src='"+a+"' alt='Image' />"})}):$("#"+a).find(".anc-image-jip").each(function(){var a=$(this).attr("href");$(this).qtip({content:"<img src='"+a+"' alt='Image' />"})}):$(".inline-image-jip").length?$(".inline-image-jip").each(function(){var a=$(this).attr("src");$(this).qtip({content:"<img src='"+a+"' alt='Image' />"})}):
$(".anc-image-jip").each(function(){var a=$(this).attr("href");$(this).qtip({content:"<img src='"+a+"' alt='Image' />"})})}function getColorValObject(a,b){var c="";if(""!=a&&""!=b&&"rgb"==b&&(a=a.replace("rgb(",""),a=a.replace(")",""),""!=a)){c={};var d=a.split(",");c.r=void 0!==d[0]?d[0]:0;c.g=void 0!==d[1]?d[1]:0;c.b=void 0!==d[2]?d[2]:0}return c}
function createTooltipHeading(a,b,c){$("#anc_module_help").length&&(a=$("#txt_module_help").val(),$("#anc_module_help").popover({placement:"bottom",html:"true",content:a}).click(function(a){a.preventDefault()}))}function initGridChosenEvent(a,b){$(a).chosen({allow_single_deselect:!0})}
function initEditGridAjaxChosenEvent(a){$(a).chosen({allow_single_deselect:!0});var b=$(a).attr("aria-unique-name"),c=$(a).attr("aria-update-id"),d=$(a).attr("aria-grid-id");d=$("#"+d).jqGrid("getGridParam","isSubMod");var e=el_grid_settings.ajax_data_url;"1"==d?e=el_subgrid_settings.ajax_data_url:"2"==d&&(e=el_nesgrid_settings.ajax_data_url);$(a).ajaxChosen({dataType:"json",type:"POST",url:e+"&mode="+cus_enc_mode_json.Update+"&unique_name="+b+"&id="+c},{loadingImg:admin_image_url+"chosen-loading.gif"})}
function initEditGridMaskingEvent(a){var b=$(a).attr("aria-phone-format");$(a).mask(b)}function initEditGridElasticEvent(a){setTimeout(function(){$(a).elastic().css("height","20px")},50)}
function initSearchGridAjaxChosenEvent(a,b){$(a).chosen({allow_single_deselect:!0});if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-unique-name"];var d=b.attr["aria-grid-id"]}else c=$(a).attr("aria-unique-name"),d=$(a).attr("aria-grid-id");d=$("#"+d).jqGrid("getGridParam","isSubMod");var e=el_grid_settings.ajax_data_url;"1"==d?e=el_subgrid_settings.ajax_data_url:"2"==d&&(e=el_nesgrid_settings.ajax_data_url);$(a).ajaxChosen({dataType:"json",type:"POST",url:e+"&mode="+cus_enc_mode_json.Search+
"&unique_name="+c},{loadingImg:admin_image_url+"chosen-loading.gif"})}
function initSearchGridDateRangePicker(a,b){if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-grid-id"];var d=b.attr["aria-date-format"]}else c=$(a).attr("aria-grid-id"),d=$(a).attr("aria-date-format");$(a).daterangepicker({ranges:{Today:[moment().startOf("days"),moment().endOf("days")],Yesterday:[moment().subtract("days",1).startOf("days"),moment().subtract("days",1).endOf("days")],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],
"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},opens:"left",timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,showDropdowns:!0,locale:{format:d,separator:" to ",applyLabel:js_lang_label.GENERIC_GRID_SUBMIT,fromLabel:js_lang_label.GENERIC_FROM,toLabel:js_lang_label.GENERIC_TO,customRangeLabel:js_lang_label.GENERIC_CUSTOM_RANGE,daysOfWeek:"Su Mo Tu We Th Fr Sa".split(" "),
monthNames:"January February March April May June July August September October November December".split(" "),firstDay:1},dateLimit:!1,autoUpdateInput:!1});$(a).on("apply.daterangepicker",function(a,b){$(this).val(b.startDate.format(b.locale.format)+b.locale.separator+b.endDate.format(b.locale.format));"gs_"===$(this).attr("id").substr(0,3)?filterDateWiseResult(c):$(this).trigger("change")});$(a).on("cancel.daterangepicker",function(a,b){$(this).val("");"gs_"===$(this).attr("id").substr(0,3)?filterDateWiseResult(c):
$(this).trigger("change")});$(a).on("hidden",function(a){$(a.target).trigger("change")});el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function initSearchGridDateTimePicker(a,b){if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-grid-id"];var d=b.attr["aria-date-format"];var e=b.attr["aria-enable-time"]}else c=$(a).attr("aria-grid-id"),d=$(a).attr("aria-date-format"),e=$(a).attr("aria-enable-time");$(a).daterangepicker({ranges:{Today:[moment().startOf("days"),moment().endOf("days")],Yesterday:[moment().subtract("days",1).startOf("days"),moment().subtract("days",1).endOf("days")],"Last 7 Days":[moment().subtract("days",6),moment()],
"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},opens:"left",timePicker:!0,timePickerIncrement:1,timePicker12Hour:"false"==e?!1:!0,showDropdowns:!0,locale:{format:d,separator:" to ",applyLabel:js_lang_label.GENERIC_APPLY,cancelLabel:js_lang_label.GENERIC_CLEAR,fromLabel:js_lang_label.GENERIC_FROM,toLabel:js_lang_label.GENERIC_TO,
customRangeLabel:js_lang_label.GENERIC_CUSTOM_RANGE,daysOfWeek:"Su Mo Tu We Th Fr Sa".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),firstDay:1},dateLimit:!1,autoUpdateInput:!1});$(a).on("apply.daterangepicker",function(a,b){$(this).val(b.startDate.format(b.locale.format)+b.locale.separator+b.endDate.format(b.locale.format));"gs_"===$(this).attr("id").substr(0,3)?filterDateWiseResult(c):$(this).trigger("change")});$(a).on("cancel.daterangepicker",
function(a,b){$(this).val("");"gs_"===$(this).attr("id").substr(0,3)?filterDateWiseResult(c):$(this).trigger("change")});$(a).on("hidden",function(a){$(a.target).trigger("change")});el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function initSearchGridTimePicker(a,b){if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-grid-id"];var d=b.attr["aria-time-format"];var e=b.attr["aria-enable-sec"];var f=b.attr["aria-enable-ampm"]}else c=$(a).attr("aria-grid-id"),d=$(a).attr("aria-time-format"),e=$(a).attr("aria-enable-sec"),f=$(a).attr("aria-enable-ampm");$(a).timepicker({timeFormat:d,showSecond:"false"==e?!1:!0,ampm:"false"==f?!1:!0,showOn:"focus",onClose:function(b,d){"gs_"===$(a).attr("id").substr(0,3)?filterDateWiseResult(c):
$(a).trigger("change")}});el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function initSearchGridColorPickerEvent(a,b){var c=b&&b.attr&&b.attr["aria-grid-id"]?b.attr["aria-grid-id"]:$(a).attr("aria-grid-id");$(a).colpick({onShow:function(a){$(a).fadeIn(500);return!1},onHide:function(a){$(a).fadeOut(500)},onSubmit:function(b,e,f,h){$(h).val("#"+e);$(h).colpickHide();$(h).focus();"gs_"===$(a).attr("id").substr(0,3)?$("#"+c).get(0).triggerToolbar():$(a).trigger("change")}}).bind("keyup",function(){$(this).colpickSetColor(this.value)}).bind("focus",function(){$(this).colpickSetColor(this.value)});
el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function initSearchGridAutoCompleteEvent(a,b){if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-grid-id"];var d=b.attr["aria-unique-name"];$(a).attr("name")||$(a).attr("name",$(a).attr("id"))}else c=$(a).attr("aria-grid-id"),d=$(a).attr("aria-unique-name");var e=$("#"+c).jqGrid("getGridParam","isSubMod"),f=el_grid_settings.auto_complete_url;"1"==e?f=el_subgrid_settings.auto_complete_url:"2"==e&&(f=el_nesgrid_settings.auto_complete_url);setTimeout(function(){$(a).tokenInput(f+"&mode="+cus_enc_mode_json.Search+
"&unique_name="+d,{minChars:"1",propertyToSearch:"val",theme:"facebook",hintText:js_lang_label.GENERIC_TYPE_IN_A_SEARCH_TERM,noResultsText:js_lang_label.GENERIC_NO_RESULTS,searchingText:js_lang_label.GENERIC_SEARCHING,preventDuplicates:!0,onAdd:function(b){"gs_"===$(a).attr("id").substr(0,3)?$("#"+c).get(0).triggerToolbar():$(a).trigger("change")},onDelete:function(b){"gs_"===$(a).attr("id").substr(0,3)?$("#"+c).get(0).triggerToolbar():$(a).trigger("change")}})},500)}
function initSearchRatingMasterEvent(a,b){if(b&&b.attr&&b.attr["aria-grid-id"]){var c=b.attr["aria-grid-id"];var d=b.attr["aria-raty-number"];var e=b.attr["aria-raty-half"];var f=b.attr["aria-raty-precision"];var h=b.attr["aria-raty-icons"];var g=b.attr["aria-raty-hints"]}else c=$(a).attr("aria-grid-id"),d=$(a).attr("aria-raty-number"),e=$(a).attr("aria-raty-half"),f=$(a).attr("aria-raty-precision"),h=$(a).attr("aria-raty-icons"),g=$(a).attr("aria-raty-hints");g=g.split(",");var k=$("<span />").addClass("rating-icons-block");
$(k).raty({number:d,half:"1"==e?!0:!1,precision:"1"==f?!0:!1,cancel:!0,cancelPlace:"right",cancelHint:"",cancelOff:"cancel-custom-off.png",cancelOn:"cancel-custom-on.png",starOff:"bulbs"==h?"bulb-off.png":"star-off.png",starOn:"bulbs"==h?"bulb-on.png":"star-on.png",starHalf:"star-half.png",hints:g,target:a,targetKeep:!0,click:function(b,d){"gs_"===$(a).attr("id").substr(0,3)?$("#"+c).get(0).triggerToolbar():$(a).trigger("change")}});setTimeout(function(){$(a).after(k);$(a).hide()},500)}
function formatChosenAjaxResults(a){var b=[],c=a.results;"optgroup"==a.type?$.each(c,function(a,c){var d={group:!0,text:c.text,items:[]};$.each(c.items,function(a,b){d.items.push({value:b.id,text:b.text})});b.push(d)}):$.each(c,function(a,c){b.push({value:c.id,text:c.text})});return b}function activateRatingMasterEvent(a,b,c,d){b=assignEventParams(b);c={score:d,hints:$.isArray(c)?c:c.split(",")};c=$.extend({},b,c);$(a).raty(c)}
function niceScrollHomePageBlocks(){$(".home-page-boxes").length&&$(".box-height").each(function(){$(this).niceScroll({cursoropacitymax:.7,cursorborderradius:6,cursorwidth:"4px",zindex:97})})}function check_user_platform(){return navigator.userAgent.match(/(iPad|iPhone|iPod|android|blackberry|webos)/i)?!0:!1}function initTopGridChosenEvent(a,b,c,d,e,f){$(a).chosen({allow_single_deselect:!0,placeholder_text_multiple:" "})}
function initTopGridAjaxChosenEvent(a,b,c,d,e,f){$(a).chosen({allow_single_deselect:!0});b=$("#"+f).jqGrid("getGridParam","isSubMod");d=el_grid_settings.ajax_data_url;"1"==b?d=el_subgrid_settings.ajax_data_url:"2"==b&&(d=el_nesgrid_settings.ajax_data_url);$(a).ajaxChosen({dataType:"json",type:"POST",url:d+"&mode="+cus_enc_mode_json.Search+"&unique_name="+c},{loadingImg:admin_image_url+"chosen-loading.gif"})}
function initTopGridDateRangePicker(a,b,c,d,e,f){b=(b=b.format)?b:"MMMM DD, YYYY";$(a).daterangepicker({ranges:{Today:[moment().startOf("days"),moment().endOf("days")],Yesterday:[moment().subtract("days",1).startOf("days"),moment().subtract("days",1).endOf("days")],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",
1).endOf("month")]},opens:"left",timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,showDropdowns:!0,locale:{format:b,separator:" to ",applyLabel:js_lang_label.GENERIC_GRID_SUBMIT,fromLabel:js_lang_label.GENERIC_FROM,toLabel:js_lang_label.GENERIC_TO,customRangeLabel:js_lang_label.GENERIC_CUSTOM_RANGE,daysOfWeek:"Su Mo Tu We Th Fr Sa".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),firstDay:1},dateLimit:!1,autoUpdateInput:!1});
$(a).on("apply.daterangepicker",function(a,b){$(this).val(b.startDate.format(b.locale.format)+b.locale.separator+b.endDate.format(b.locale.format));triggerTopFilterEvent(f,c,b.startDate.format("YYYY-MM-DD")+b.locale.separator+b.endDate.format("YYYY-MM-DD"))});$(a).on("cancel.daterangepicker",function(a,b){$(this).val("");triggerTopFilterEvent(f,c,"")})}
function initTopGridDateTimePicker(a,b,c,d,e,f){d=b.format;b=b.time;d=d?d:"MMMM DD, YYYY HH:mm:ss";$(a).daterangepicker({ranges:{Today:[moment().startOf("days"),moment().endOf("days")],Yesterday:[moment().subtract("days",1).startOf("days"),moment().subtract("days",1).endOf("days")],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),
moment().subtract("month",1).endOf("month")]},opens:"left",timePicker:!0,timePickerIncrement:1,timePicker12Hour:"false"==b?!1:!0,showDropdowns:!0,locale:{format:d,separator:" to ",applyLabel:js_lang_label.GENERIC_GRID_SUBMIT,fromLabel:js_lang_label.GENERIC_FROM,toLabel:js_lang_label.GENERIC_TO,customRangeLabel:js_lang_label.GENERIC_CUSTOM_RANGE,daysOfWeek:"Su Mo Tu We Th Fr Sa".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),
firstDay:1},dateLimit:!1,autoUpdateInput:!1});$(a).on("apply.daterangepicker",function(a,b){$(this).val(b.startDate.format(b.locale.format)+b.locale.separator+b.endDate.format(b.locale.format));triggerTopFilterEvent(f,c,b.startDate.format("YYYY-MM-DD HH:mm:ss")+b.locale.separator+b.endDate.format("YYYY-MM-DD HH:mm:ss"))});$(a).on("cancel.daterangepicker",function(a,b){$(this).val("");triggerTopFilterEvent(f,c,"")})}
function initTopGridColorPickerEvent(a,b,c,d,e,f){$(a).colpick({onShow:function(a){$(a).fadeIn(500);return!1},onHide:function(a){$(a).fadeOut(500)},onSubmit:function(b,d,e,l){$(l).val("#"+d);$(l).colpickHide();$(l).focus();triggerTopFilterEvent(f,c,$(a).val())}}).bind("keyup",function(){$(this).colpickSetColor(this.value)}).bind("focus",function(){$(this).colpickSetColor(this.value)});el_general_settings.mobile_platform&&$(a).attr("readonly",!0)}
function initTopGridAutoCompleteEvent(a,b,c,d,e,f){b=$("#"+f).jqGrid("getGridParam","isSubMod");var h=el_grid_settings.auto_complete_url;"1"==b?h=el_subgrid_settings.auto_complete_url:"2"==b&&(h=el_nesgrid_settings.auto_complete_url);setTimeout(function(){$(a).tokenInput(h+"&mode="+cus_enc_mode_json.Search+"&unique_name="+d,{minChars:"1",propertyToSearch:"val",theme:"facebook",hintText:js_lang_label.GENERIC_TYPE_IN_A_SEARCH_TERM,noResultsText:js_lang_label.GENERIC_NO_RESULTS,searchingText:js_lang_label.GENERIC_SEARCHING,
preventDuplicates:!0,onAdd:function(b){triggerTopFilterEvent(f,c,$(a).val())},onDelete:function(b){triggerTopFilterEvent(f,c,$(a).val())}})},500)}
function triggerTopFilterEvent(a,b,c){var d=$("#"+a).jqGrid("getGridParam","postData"),e=d&&d.filters?$.parseJSON(d.filters):{};d=$("#"+a);var f={};f.key=b;f.val=c;b={groupOp:"AND",rules:e&&e.rules?e.rules:[],entrys:e&&e.entrys?e.entrys:"",range:f};d[0].p.search=!0;$.extend(d[0].p.postData,{filters:JSON.stringify(b)});reloadListGrid(a,[{page:1,current:!0}])}
function adminCustomButtonAction(a,b,c,d,e){if(b&&$.isPlainObject(b)&&(!$.isArray(a)||!a.length))return jqueryUIalertBox(b.body,b.title,b.button[0],b.width,b.height),!1;if("redirect"==c.type||"module"==c.type)if(b=c.url,c.ext?(b=-1!=b.indexOf("?")?b+("&"+c.id+"="+a.join(",")):b+("?"+c.id+"="+a.join(",")),b+=prepareQueryParamsURL(c.params)):(b+="|"+c.id+"|"+a.join(","),b+=prepareHASHParamsURL(c.params)),"same"==c.open)window.location.href=b;else if("new"==c.open)window.open(b,"_blank");else{if("popup"==
c.open){if(c.ext){var f=b.split("?");b=getQueryToFancyParams(f[1]);f=f[1]}else f=b.split("#"),b=getHASHToFancyParams(f[1]),f=convertHASHToURL(f[1]);"redirect"==c.type?openAjaxURLFancyBox(f,b):openCustomURLFancyBox(f,b)}}else if("callback"==c.type){if(c.callback&&$.isFunction(window[c.callback]))window[c.callback](a)}else"confirm"==c.type&&("general"==c.body.type||"extended"==c.body.type?$.ajax({url:admin_url+cus_enc_url_json.general_grid_render_action+"?"+e,type:"POST",data:{id:a.join(","),render_module:c.module,
render_type:c.body.type,render_value:c.body.value},success:function(b){adminCustomButtonRender(a,c,b,d,e)}}):adminCustomButtonRender(a,c,c.body.value,d,e))}
function adminCustomButtonRender(a,b,c,d,e){a='<form name="frmcustomdialog" id="frmcustomdialog" method="post" enctype="multipart/form-data" onsubmit="return false">'+('<input type="hidden" name="id" value="'+a.join(",")+'"/>');a+='<input type="hidden" name="action_module" value="'+b.module+'"/>';a+='<input type="hidden" name="action_type" value="'+b.action.type+'"/>';a+='<input type="hidden" name="action_value" value="'+b.action.value+'"/>';jqueryUIdialogBox("<div />",a+c+"</form>",{title:b.title,
width:b.width?b.width:300,height:b.height?b.height:"auto",closeOnEscape:!1,dialogClass:"grid-confirm-popup",buttons:[{text:b.button[0]?b.button[0]:js_lang_label.GENERIC_GRID_SUBMIT,bt_type:"ok",click:function(){$.ajax({url:admin_url+cus_enc_url_json.general_grid_submit_action+"?"+e,type:"POST",data:$("#frmcustomdialog").serialize(),success:function(a){a=$.parseJSON(a);a.load_grid&&$("#"+a.load_grid).length&&reloadListGrid(a.load_grid,null,a.sort_mode?a.sort_mode:1);a.red_hash&&loadAdminAddUpdateControl(a);
gridReportMessage(a.success,a.message)}});$(this).remove()}},{text:b.button[1]?b.button[1]:js_lang_label.GENERIC_GRID_CANCEL,bt_type:"cancel",click:function(){$(this).remove()}}]})}function imageLoadingError(a){$(a).attr("src",el_tpl_settings.noimage_url)};