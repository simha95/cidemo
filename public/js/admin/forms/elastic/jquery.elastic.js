(function(n){jQuery.fn.extend({elastic:function(){var e="paddingTop paddingRight paddingBottom paddingLeft fontSize lineHeight fontFamily width fontWeight border-top-width border-right-width border-bottom-width border-left-width borderTopStyle borderTopColor borderRightStyle borderRightColor borderBottomStyle borderBottomColor borderLeftStyle borderLeftColor".split(" ");return this.each(function(){function l(){var d=Math.floor(parseInt(a.width(),10));b.width()!==d&&(b.css({width:d+"px"}),c(!0))}function g(d,
b){var c=Math.floor(parseInt(d,10));a.height()!==c&&a.css({height:c+"px",overflow:b})}function c(d){var c=a.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),e=b.html().replace(/<br>/ig,"<br />");if(d||c+"&nbsp;"!==e)b.html(c+"&nbsp;"),3<Math.abs(b.height()+h-a.height())&&(d=b.height()+h,d>=f?g(f,"auto"):d<=m?g(m,"hidden"):g(d,"hidden"))}if("textarea"!==this.type)return!1;var a=jQuery(this),b=jQuery("<div />").css({position:"absolute",display:"none",
"word-wrap":"break-word","white-space":"pre-wrap"}),h=parseInt(a.css("line-height"),10)||parseInt(a.css("font-size"),"10"),m=parseInt(a.css("height"),10)||3*h,f=parseInt(a.css("max-height"),10)||Number.MAX_VALUE;0>f&&(f=Number.MAX_VALUE);b.appendTo(a.parent());for(var k=e.length;k--;)b.css(e[k].toString(),a.css(e[k].toString()));a.css({overflow:"hidden"});a.bind("keyup change cut paste",function(){c()});n(window).bind("resize",l);a.bind("resize",l);a.bind("update",c);a.bind("blur",function(){b.height()<
f&&b.height()});a.bind("input paste",function(a){setTimeout(c,250)});c()})}})})(jQuery);